{"componentChunkName":"component---src-templates-post-template-jsx","path":"/works/posts/2021-01-15--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"일상 & 작업 기록 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"0fe9b976-34d8-5310-bb11-61685db175f0","html":"<h3>요청사항</h3>\n<ul>\n<li>Replication 이 적용된 두 서버의 DB 의 몇몇 테이블 스페이스가 달라요. 확인 해주세요.</li>\n</ul>\n<h3>확인</h3>\n<ul>\n<li>DB 데이터 파일이 존재하는 디렉토리에서 데이터파일 사이즈 확인 결과 두개의 로그파일 사이즈가 달랐다.</li>\n<li>ibd 파일 위치: my.cnf 파일안에 data 경로 </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d10dd/001-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 26.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABA0lEQVQY0x2NXU+DMBhGKx9DUQalLbRvKZSPgYu6wSDtyO7Mroz+/78jevfkPDk56Hw63W6394+3xSzmasxq7WqNXXRV3u+f3z9ftdbruh6Pr+N0nufpMk/GLON4Ohxa9BQ+CwE4DEWCAaeSUEXpo79DCA1DP07jNriQ5CUqMC6SRCZYsyz0vI0jQmjbdkBJDbIBaJXSXOz+v612tTbYBU3TMEJElinOS4Aizz3XfXAcFO33UhYkiiBNC8aqPM/imIThJvd9b43xfb+sNCek5aLO8k5AB1JhHAcBiuOkqnRBacO5znktRK+UouxPHvp5vjiOq8oyTbCglNOtzxQIYMx33V8NcCAUkHq/DwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d9199/001-01.png\"\n        srcset=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/8ff5a/001-01.png 240w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/e85cb/001-01.png 480w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d9199/001-01.png 960w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/07a9c/001-01.png 1440w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d10dd/001-01.png 1749w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>혹시몰라 mysql 접속 후 data+index 사이즈를 확인했지만 현상은 동일했다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/7b857/001-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAl0lEQVQI102NuQ6DMBQEzRWHw8YnogtN0gQppOf/f2uCLYFSjPattJonlFIYYxhHg1aa1IdhyNl1HUII1nVl33f6vmeKEzFEQghYaxm1RmuFOrJpGoS1Du883nvmeSb1qqqo6zqThK/Xk++20coW5xzmeB5jyHdRFHlzIe8SKWWWpA+n5J/lsfD+vBE3kTdJkijL8tqc4h8aoURmcU4DbwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/d9199/001-02.png\"\n        srcset=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/8ff5a/001-02.png 240w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/e85cb/001-02.png 480w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/d9199/001-02.png 960w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/07a9c/001-02.png 1440w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/29114/001-02.png 1920w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/7b857/001-02.png 1941w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/2463a/001-03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAk0lEQVQI11WMyw6DIBBFeYokAkIENrWJ/Ya6q6v6/790xalJ28XJZO6L5ZyRUoL3Hs45DBducE0LkEJi399YHgvGccSZL6VimibE9p+9kxAC9VmMiQZLLi1c0Pc9pJRQSqHrOjDGsG0vzLeZCilGGq61fgaazzmnS1hrobUmjDFf44f1uSLfM5jk0EqTJoT4H7o4AFaVRKUwncZgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 03\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/d9199/001-03.png\"\n        srcset=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/8ff5a/001-03.png 240w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/e85cb/001-03.png 480w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/d9199/001-03.png 960w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/07a9c/001-03.png 1440w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/29114/001-03.png 1920w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/2463a/001-03.png 1937w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<ul>\n<li>확인해보니 각 DB는 알아서 Optimizer 가 돌기 때문에 사이즈가 조금 씩 다를 수 있다고 전달 받았다.</li>\n<li>그래서 실질 적으로 해당 테이블에 optimize 를 진행해보았다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 명령어\nmysql> optimize table [테이블명] </code></pre></div>\n<ul>\n<li>수행결과 (innoDB의 경우 아래와 같은 결과가 나옴, 오류가 아니라 수행이 완료 된 것임)</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/0fb99/001-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 35.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFElEQVQoz4VQ23aDMAwLSYAQB0gZ17WlPLTb/v8HNTuDnl0e9qATxbFjSert/QNN02CaZ4zDiBhbtK0gwnsPayy01siyDMaYdGZ8F/4beZ5Dnc8X1HUNbXQalAetDSgEbihSU2BORHCu4t4GxIuUUn8gy9SyvKYha+0PyLCcZemSUqKQasId174rExdG7wpvtw2nGNH3PbpTh67r2HZEyxjHEXWoUTqX1FubpzsFSorFmcTjmcsMESu/3x+YphmX65UzHDDPCwb+6IUXrOvKdmlX52BZga+qp70jooMLlHxmuSjWyrJMEOnygVgkTzt3zx6JQnpy+xXVcRZFAbVtG5q2SZKTVeZiu5AByZbzORT9B1H7Ce/KmmGQavGXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 04\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/d9199/001-04.png\"\n        srcset=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/8ff5a/001-04.png 240w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/e85cb/001-04.png 480w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/d9199/001-04.png 960w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/0fb99/001-04.png 965w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n     </p>\n<ul>\n<li>실제 ibd 사이즈도 동일해졌다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/5df5d/001-05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABaUlEQVQozzWR63LaMBCFDbawCrhMAO1NFyckTKaFiWmBvv+j9QhajX5Is/vpnD1qxnG0lEyFWNQs5hxC6Pu+aZr7n9t0mbrOxZhQYpFAFJhxxmG5XDYl52IxMVkIWa2I9ItF27aAb7fr5dfknEs5jSl9mr0zH1V/5kKbDRqacSwHtUOg1xA+RN52u/lsNpvPnvA0PZVjVItERiEKR+LeuQrnnJRxJyXKqi/rYei9f9Tut+vX9NV1nYFVhSw03kU+MN/3DS9XTUwRVo+B3kI4iv5IubxsV//h6XJxD2WtyozRIHPIOYsM3ldlEkEQ+xBY2FLcE0GtwnfMXOGERC2yIrCAZhhBeLDY1LwMgzBCNtXdbt8+1j/4kXZKGT0qwoCZzez5HTVtEQVcH1XFHoZ1285Rul5/IzDXLaBcvwoLPSylJESwXq2aMmJkZYLxIIJCvTpXbZ/P59Pp5P23CqsB0yRb29Ie8uS9/wu5GS/AtaxxlgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 05\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/d9199/001-05.png\"\n        srcset=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/8ff5a/001-05.png 240w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/e85cb/001-05.png 480w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/d9199/001-05.png 960w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/07a9c/001-05.png 1440w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/5df5d/001-05.png 1572w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<p>테이블 최적화에 대한 몇 개의 글을 찾아보았다.\n아래를 참고하자</p>\n<ul>\n<li><a href=\"https://hyunki1019.tistory.com/52\">https://hyunki1019.tistory.com/52</a></li>\n<li><a href=\"https://fliedcat.tistory.com/80\">https://fliedcat.tistory.com/80</a></li>\n</ul>","fields":{"tagSlugs":["/tags/mysql/","/tags/optimize/"],"slug":"/works/posts/2021-01-15--001"},"frontmatter":{"title":"[작업로그] MySQL Optimize","tags":["mysql","optimize"],"date":"2021-01-15","description":""}}},"pageContext":{"slug":"/works/posts/2021-01-15--001"}},"staticQueryHashes":[]}
{"componentChunkName":"component---src-templates-post-template-jsx","path":"/works/posts/2021-01-15--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"EY's 개발 히스토리 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"e83733ca-b28d-57bb-95ce-1b1265cae4f3","html":"<h3>요청사항</h3>\n<ul>\n<li>Replication 이 적용된 두 서버의 DB 의 몇몇 테이블 스페이스가 달라요. 확인 해주세요.</li>\n</ul>\n<h3>확인</h3>\n<ul>\n<li>DB 데이터 파일이 존재하는 디렉토리에서 데이터파일 사이즈 확인 결과 두개의 로그파일 사이즈가 달랐다.</li>\n<li>ibd 파일 위치: my.cnf 파일안에 data 경로 </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d10dd/001-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 26.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABCUlEQVQY0x2O61LCMBSE0zEtlzaxl+SQtEkJoOIDVGZAWnFUCoICBf3t8P4PYeDPzpnZ8+0uquvl6XRcrZZfu23T7Jpm3xz3h8P3S/X8+9Ocz3+Tp2K7/Vwsqrf31/V6Wdcfm83aalXOEMYuZ9DtdMIgiAmNacjDyHNdhFCe62JS2AN6gvoBECootZolrIsvDyiK4tHoLudwL9OHNBsr9aiU73nWMsbM53MX474ZCMYU530h+0IYKdsYX2BCqFJ5SCmPYgmQSZnchr7XspbWuizLK2wsnAOYnhim6UBmQEjYaqMgIBZWSTICGHAY9mCcZoaxGwvnejqbOo6TKc3iWHOurv222QbZ5f9KYSSvwKKkGQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d9199/001-01.png\"\n        srcset=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/8ff5a/001-01.png 240w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/e85cb/001-01.png 480w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d9199/001-01.png 960w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/07a9c/001-01.png 1440w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d10dd/001-01.png 1749w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>혹시몰라 mysql 접속 후 data+index 사이즈를 확인했지만 현상은 동일했다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/7b857/001-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAmElEQVQI11WNyQ7CMAxEnS6kos2ebpeeyh2E2jv9/38aXEsgODyNYo9fyFqL4AO897DWwRiLrjOcBte2BRHhtq44jhdafg/9gD73yDkjhgB33ljus6eua1DgYYxJGMdJsixLVFUlnMJlWbBvGxrd8D7COcfChJQSiqKQzhfdaGitRXL+8JH8Mk8z7s8H6ELSEYmiP5lSSvINGixEXWKrzVwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/d9199/001-02.png\"\n        srcset=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/8ff5a/001-02.png 240w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/e85cb/001-02.png 480w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/d9199/001-02.png 960w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/07a9c/001-02.png 1440w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/29114/001-02.png 1920w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/7b857/001-02.png 1941w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/2463a/001-03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQI11WNyw6DIBBFQcRg5DGIgN9iV3VX//9/bhnamHZxMpOZ+xA5Z6zrCu89nGMcbKNP62CMwXW9UGtFSgmsL+WzE1H3MSGEprcQMcYWmJqoYNs2TNMEpRTGcewMw4DzfCI1DQVCbCFEEfteMc8zhBCQUvbZ4SMbtdY97H78cBwPLHm5i/jGRX9BX95JikR8rr4sNwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 03\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/d9199/001-03.png\"\n        srcset=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/8ff5a/001-03.png 240w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/e85cb/001-03.png 480w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/d9199/001-03.png 960w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/07a9c/001-03.png 1440w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/29114/001-03.png 1920w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/2463a/001-03.png 1937w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<ul>\n<li>확인해보니 각 DB는 알아서 Optimizer 가 돌기 때문에 사이즈가 조금 씩 다를 수 있다고 전달 받았다.</li>\n<li>그래서 실질 적으로 해당 테이블에 optimize 를 진행해보았다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 명령어\nmysql&gt; optimize table [테이블명] </code></pre></div>\n<ul>\n<li>수행결과 (innoDB의 경우 아래와 같은 결과가 나옴, 오류가 아니라 수행이 완료 된 것임)</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/0fb99/001-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 35.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABBUlEQVQoz4VRy3KDMBAzYIONeQcHt2ngkKb//4eqtambaXvoQbPCo92VFnW/f6AfBsQYEULANI4YBRNc20JXGmVZoihKVFWVaiHf5L9hjIF6vVzQd52Inqjg0xsFRJd46z2sc+j7AT4tUkr9AXsVnbFJa/0D1rqvatGmAd538kbeNI04z86oY63rGmrfD8zzjHUNWJYl4YRpmgTbeRN3HMqoxtTJYZ/c+7TACx/HQTj1XKZut3dsW8Tb9YpzumGML3LL07pi33cRc2jTWEninJV4+ZaP+z65CuEsdhkjg4109YjohXOgIMXS2nzfl3FzZa86jgND+qs5Jv8wo+cGLsuO/gO1n8wKmkSNPmdDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 04\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/d9199/001-04.png\"\n        srcset=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/8ff5a/001-04.png 240w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/e85cb/001-04.png 480w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/d9199/001-04.png 960w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/0fb99/001-04.png 965w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n     </p>\n<ul>\n<li>실제 ibd 사이즈도 동일해졌다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/5df5d/001-05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXklEQVQoz12Sy26DMBBFHQE2oalUFebpB6SPELLLrkr7/9/VcaN2Ue8Q93DHZ3DzPKecVYWFY4y55AmmEIJz7vPrtm2b9yGlzCLEDAhAJKrI9PBwcDnnaCgiIaqoRfq+b9vW4Nvt43K5BB9yKXNK76oL0QvLmsv4+GgBN5dyEn0DeAU4sbxPsHNut9vd4e2y+c4nOyIzcUGcmRfivfcVtma2SRAYMQofhqFrmrZp7vB5O3edjzExG0wF4MicAZ/3w9jvXUzxSLwiviKuomeNy9PToev+NQuzxWYAq13tFkjPfe/sBdlBUwHMlHOapqn5bbY7m7BchZkkNpfAJDGyynD4EaaqFUY0X0aGvm/+hG21udRMtIUQgjm3fPC+ejFYRK0TK6zjNLVd+yesNnfhJyN1vjqd2HTjONZ1llLs2VijLbEsR/vWfVXX63VdT7a5kovUP8GCBAJRY0pxGIZvwCIv0G8SwVgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 05\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/d9199/001-05.png\"\n        srcset=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/8ff5a/001-05.png 240w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/e85cb/001-05.png 480w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/d9199/001-05.png 960w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/07a9c/001-05.png 1440w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/5df5d/001-05.png 1572w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<p>테이블 최적화에 대한 몇 개의 글을 찾아보았다.\n아래를 참고하자</p>\n<ul>\n<li><a href=\"https://hyunki1019.tistory.com/52\">https://hyunki1019.tistory.com/52</a></li>\n<li><a href=\"https://fliedcat.tistory.com/80\">https://fliedcat.tistory.com/80</a></li>\n</ul>","fields":{"tagSlugs":["/tags/mysql/","/tags/optimize/"],"slug":"/works/posts/2021-01-15--001"},"frontmatter":{"title":"[작업로그] MySQL Optimize","tags":["mysql","optimize"],"date":"2021-01-15","description":""}}},"pageContext":{"slug":"/works/posts/2021-01-15--001"}},"staticQueryHashes":[]}
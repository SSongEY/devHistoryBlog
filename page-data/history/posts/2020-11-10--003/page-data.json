{"componentChunkName":"component---src-templates-post-template-jsx","path":"/history/posts/2020-11-10--003","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"일상 & 작업 기록 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"9d75179c-79dc-51d0-abf1-ea0f21d1029b","html":"<h2>DTO Class Code Convention</h2>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/c7dcc/003-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 641px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 120.41666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABJ0AAASdAHeZh94AAAC9klEQVQ4y6VVWXbbMBDLbWqS4r5ps5O83P9MU8xIluXUaT/6MY+yJEIYABy/5doppErLbOm6aOqNy0iNU6NxvFKMmWLKVGqj0jrlVKiliXIsZIwhrbWsXG8CmCv17GhOhkoAGNbWG83LSrWN5JyjYRjIWovaru/1EjAC0GJTDBqbDSml6XLhUqhf+H2RTbyqC0qp7Xq/fwY9AGNy9PWl0LqmUrbKBYzxvOQmH8ylSNu5VCqxUk2dvPOvGXrv6J31y4aWaqhGTWPSVAEyTiv1aaYEHbl9bpvLWS9tvwQ0g6OpanqHMes0UPCePDRzdtOOge6tPUr93LIZLNowdOtgWRyl0sRZD+DBaNHtzORc3xiOB2DNmj44OsVSiIl8CMJu4E0HADMzL4EFsLQHYIMRnyu0qxZgEewCWrXCkEGkzQP0NdunlnNgQzRCi2u4ySZYuMjAkRkDnMF+YvcALF02WrzsByNtCkMABMcG2cPNLY9q03Rf1ckoAUzQ0TqwsJpu0HEsiablRus80tet03VukGOi6BMk8KIvGxZiFObJbx9+PiksPtqOeMDA8iLus9uOP+Z5I0DAXIJdqoCmXCCVxbNvgA7x4LAqEd9Ixo7WuE3+Lbl73FenltW5ZQFEcJ3TAP276P+qAzBERx83Ra1tgErtTNXjRNwNETNOjA2/Z+4MkUOehwL4oWjeh0PAqeGKMUC3tDsfdjNgSsjQriABUcCMPjFk4UPw9DnxKTF07RiucHsuFxo7hu/1E65fZdpIHmEMAwUXxfUN8HSWuTiHGbNwRLhb9DK2KqTIcJYHxACG5wzKPNR/nu892I0GALoBcQGoswahHsR1PiVbpGCYs9s1T26ePtrsKXik4RFsvwV7xTwcod1cPAzqaPcd83ChpXcE/Ya5uNA4r7SsN8kgh9t51hkfxml6CrY5gm3kHp9nntCeg+3wRwXNONisIwMxIAec14r3HDBOE9tLFjkqElL1HGy9R0TqHvZvAX8KNjsnwur/C/ZvM5Tlo7xMXn4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/c7dcc/003-01.png\"\n        srcset=\"/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/8ff5a/003-01.png 240w,\n/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/e85cb/003-01.png 480w,\n/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/c7dcc/003-01.png 641w\"\n        sizes=\"(max-width: 641px) 100vw, 641px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>#1.클래스 정의 방법</h3>\n<ul>\n<li>도메인 또는 리소스 별 DTO 클래스 생성 후(CouponDto), 각 API(Controller 에 정의된 메소드: CreateReq, CreateRes) 에 해당하는 DTO를 InnerClass 로 정의</li>\n<li>CouponDto의 객체 생성을 하지 않으므로 InnerClass는 static 키워드를 명시한다.</li>\n</ul>\n<br>\n<h3>#2.생성자의 접근자는 최소한으로</h3>\n<ul>\n<li>객체 생성이 불필요한 클래스의 기본 생성자 접근자는 Private로 지정<br>\n—> 개별 DTO는 InnerClass로 정의하기 때문에 객체 생성이 불필요하다.  </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/85ff8/003-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 467px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 14.166666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAlklEQVQI10XMURLCIAwE0N7GgVBSKgVC0Dp6/zOtKR/68SY7SWaX83To3UPVo4lppt5QarCsdnuhFgFvCdIHSuv2p5YV5RBIHujHgJQBIsLyEbIF2YGg2aNkRusV+lA8z7cVC1LaEUIA84bIPLFZ14g48TQLKxO2QEgrIUcPtof9fiAfFXvOiDHOMu89vHM/7prXbvrnL36yXrDoT8t/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/85ff8/003-02.png\"\n        srcset=\"/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/8ff5a/003-02.png 240w,\n/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/85ff8/003-02.png 467w\"\n        sizes=\"(max-width: 467px) 100vw, 467px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<h3>#3. Request Dto 클래스</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/6114d/003-03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 623px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.16666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAABoklEQVQ4y41TWXKDMBTLcfC+gQ1xlun9D6XqmYRJ0mmnHxonNsjSkziluSLEhN4Vzl0jBA1jNawjrCUctOaeMdxzcMRYrYd3fuw/zwWn/CC8k+zeDbaq0ZvBufGCxosuX2hrR20rltowLxWlLJjTgqW0QfqD0IeEljQuJFoXg5Y1olHInmvKmElU5mUok5c/8apyEDofEfjyZdM4V0MVCSEV7gdYPqSmCUqpNyWv+KFQCHPU+KLl66qREv+XGTFGeO8+CPT/CKMopLpOy/M8U2UjIZV692btk+ATB2GiwtuVlmlbVEm6zknK7+q0/p1Uzk6ZicmsPKtSo0FlbQrttu3MsOKunkpzznzGHoS/K6S1EQBvX4KhRYuYC/sYsCQmXhzVeygqkmAEk4Q0gtoxKT3ORfVBaEm4kaBny96t2PoV91vH7cLf7GAtG1LISLxM5jv6yCoJanLIwb0Um9aeM4v8Qrys7F/kRdJRb8MgC1IvJi+kgv2ZTDI7nB2EMiPv2Xjp3EP6bm+CHv3brarnqqbD/r7/YjkxFBn+npr+c+D/wTeLoY/6x1dZDAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 03\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/6114d/003-03.png\"\n        srcset=\"/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/8ff5a/003-03.png 240w,\n/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/e85cb/003-03.png 480w,\n/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/6114d/003-03.png 623w\"\n        sizes=\"(max-width: 623px) 100vw, 623px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>##3-1. @NoArgsConstructor 의 접근자는 Private로 한다.</h4>\n<ul>\n<li>@RequestBody 를 사용하면 Spring 내부에서 Jackson 라이브러리를 사용하여 Deserialize (JSON 데이터와 Request 객체 사이의 변환) 을 한다.</li>\n<li>이때 기본 전략으로 Default Constructor + Reflection 을 사용한다. 이때 최소 접근자는 Private 이다.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/a0209/003-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 725px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.249999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAbUlEQVQI1zWMSw6EMAzFuM4kI2hp6I9SsZn7H8kTIbGw/Lx5i+XKbpm4G70J9yXMIYwu3up8nMKcP2o9sSNT+6C07vZOhZp8W2ddV5b3MMRECco8lBzdptimNN8lfsml0c/rYQsBVUVEH7+ICH9crEAfCFpAJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 04\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/a0209/003-04.png\"\n        srcset=\"/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/8ff5a/003-04.png 240w,\n/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/e85cb/003-04.png 480w,\n/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/a0209/003-04.png 725w\"\n        sizes=\"(max-width: 725px) 100vw, 725px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h4>##3-2. Data Validation</h4>\n<ul>\n<li>Bean Validation에서 제공하는 @NotNull, @NotBlank, @Pattern 등을 사용하여 Request Data에 대한 오류를 최소화 한다.</li>\n<li>꼭 @RequestBody 옆에 @Valid 를 명시해줘야 한다.<br>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/33a7b/003-05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlUlEQVQI102OWQ7CMAxEe5w2qZ3NzUJIEdz/ToNTEOLjaZafmaW1Hbl4+OgRxCNKgHMERxas0G5AZMA8s7mg2TNrx+pJ1V06u+VWBWM8UGtHax19nLj3itdZ8BwZD9XeCSUb5MlhkBJBcsWRC2ISPdSQ5LjyQlaXd6+PPMh+1kJMcCGBfdTnouuMdTXYNvtl+u2P9effoJhd7SH+G+cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 05\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/d9199/003-05.png\"\n        srcset=\"/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/8ff5a/003-05.png 240w,\n/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/e85cb/003-05.png 480w,\n/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/d9199/003-05.png 960w,\n/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/33a7b/003-05.png 1119w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </li>\n<li>Validation이 실패할 경우, MethodArgumentNotValidException 의 예외가 발생한다.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/eba85/003-07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 28.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA8klEQVQY022Q3bKDIBCDfZ0q7g8gVp3W0/d/qJws9LIXmcDM7kfCVJvhagvOK+M4K/3C/TrweZ/43Bf+6PfV8N4NbSvIdUOlcqnwXLpEFcuSMM8zJs0KU8d+vLC1A23fse8NtWRsBITn7CiloNQK84y6NagZUlqxris9EbgMoBCoagSeaM8AHqjtyeWNw4JVpHssJC7HPRZ/KWZ6QhGD82Vzp6xXMKfyuKsGNPWZzIrpm+aXRsIkcHNoLJvQdSjOlDBVtIj/UlNWXLB81VN3Sa8+WSEoPQjUvmABptzLSM3/dRneYZLYgIAQz2M2979VNvsHOkq7d095jcEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 07\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/d9199/003-07.png\"\n        srcset=\"/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/8ff5a/003-07.png 240w,\n/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/e85cb/003-07.png 480w,\n/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/d9199/003-07.png 960w,\n/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/eba85/003-07.png 1054w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<br>\n<h3>#4. Response Dto 클래스</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/27524/003-08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 646px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABNklEQVQoz5VSWXYDIQzLccoOZp01eb3/nVTDJJOl/emHnm0MwhJcUmnwlEFksW8StUhIqSDEA2JASnnmA/K5rpQasePyJDTYd4F1lZxLeH8ghMCRYIzhyHmvA8G7AHIR1tiTtOMScwUlRnDYm8RcFNaqMGeFKQlMrWJZb2jTjJgyX0AIFBE6oU+w1v1FWLhhkS2TBYVKDqU2VF4vIY2edf4u++sF4o3sJAx8UPPoWkkY3RsclRgbtNYHuNYsWz1qzj99HR6OCdlHwxOQlbgmhRY0thaHzO32jWlasLYJ69KlL1i2K+ZlQ8qF5R8WEKNfdEwY8zC9L5DV8Eax8bwppgHHPgV+AG/DeJhO0CPFePjZCTk3r4TWORj2SvQvc0p5+HT/JlK8f517/5fkTuj4xsPgd5P/ix/W+RZm/44aGwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 08\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/27524/003-08.png\"\n        srcset=\"/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/8ff5a/003-08.png 240w,\n/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/e85cb/003-08.png 480w,\n/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/27524/003-08.png 646w\"\n        sizes=\"(max-width: 646px) 100vw, 646px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>##4-1. 객체 생성을 위해 필드가 3개 이상일 경우는 @Builder를 사용한다.</h4>\n<ul>\n<li>@Builder 사용 시 All Arguments Constructor 가 자동으로 생성된다.  </li>\n<li>생성자를 이용한 객체 생성을 막기 위해 생성자를 따로 정의한 후(@AllArgsConstructor) 접근제어자를 Private로 정의한다.<br>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/4d08a/003-09.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 709px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 15.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQI13XNWw6CMBBGYZcjHdDe6JSWi8T9r+lYIDG++PDlZF7+ufmYCCnztJZSOmoxpNFgjCDy2/9E5Ot2DMZc8WNine9si7C/DGUyZJWmQ9VS694erljrSHk6aS6MSRm9oiETXLwGg2ac99RgWKOgro2mq0u7p/CgzBvb/qbUBR8CwzCc+kakp2+OfgB4lF7kpqM1CwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 09\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/4d08a/003-09.png\"\n        srcset=\"/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/8ff5a/003-09.png 240w,\n/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/e85cb/003-09.png 480w,\n/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/4d08a/003-09.png 709w\"\n        sizes=\"(max-width: 709px) 100vw, 709px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h4>##4-2. 객체 생성을 위해 필드가 3개 이상일 경우는 @Builder를 사용한다.</h4>\n<h4>##4-3. @Getter 필요 이유</h4>\n<ul>\n<li>@ResponseBody 를 사용하면 Spring 내부에서 Jackson 라이브러리를 사용하여 Response 객체를 Serialize(ByteCode로 변환) 하는데 이때 getter 메소드를 사용한다.  </li>\n<li>따라서 response 객체는 @Getter 를 사용해야 한다.</li>\n</ul>\n<br>\n<hr>\n<br>\n<h2>MapStruct</h2>\n<ul>\n<li>DTO -> Entity, Entity -> DTO의 객체 매핑을 위한 라이브러리</li>\n</ul>\n<h3>#1. gradle 추가</h3>\n<ul>\n<li>롬복과 함께 사용 시, lombok annotationProcessor 보다 mapstruct annotationProcessor가 먼저 선언이 되야 한다.</li>\n<li>SpringBoot 버전에 호환하는 MapStruct 버전이 존재, 해당부분 확인 필요\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/fbf08/003-10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 20.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlElEQVQY012PaxLEIAiDPY8CPlprtfc/Vxap3dnuj0wyAvLhautIZUcIASkllFJMzKxvHkTBakH9m8PKKu/9S+44h31IROi947qGeWsNWy3YWsZ2pNtXzntEqbpcs0QGC0HS7W4S5kUoIogxGt0sMtPtOkQr06J6Uf+4e05+CMcYRne0aoST5CHbe9ZeMc0F/+dOfQA+A3w3ysBdMAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 10\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/d9199/003-10.png\"\n        srcset=\"/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/8ff5a/003-10.png 240w,\n/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/e85cb/003-10.png 480w,\n/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/d9199/003-10.png 960w,\n/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/fbf08/003-10.png 962w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<br>\n<h3>#2. Mapper Interface 생성</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/7b1dc/003-11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 956px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 23.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA80lEQVQY0yWQWXKEMBBDuQ42XtvGO5BJ7n8lpZv5UDXlUj1JbDFlrKFRy45WG675YM4b6/pgjBtEGSkX1olSO4hvcBElNpjDYN8VdqWgWUprbIESRnZYNeFnNjwtY5SOtf4w14Pr+SCyR5TPghDp/ZYAHyKiVRxwvDCt1Rd4WIfATSIRKAZEZ1kO1hwMEFh+r7QTmEAFSLwuGA3PUtJQCZCNPgTUPnl2wt0Jv1fBPQhPD5i9YI6OXjNaa2hjvaDG/lIrHIfr44C1BsYYbJIu1cUk/9N6npF4Gr+dZFkGNRn0bJHIvw2lQBKvEZCF9579ga/DP7MeoALWzIyEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 11\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/7b1dc/003-11.png\"\n        srcset=\"/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/8ff5a/003-11.png 240w,\n/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/e85cb/003-11.png 480w,\n/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/7b1dc/003-11.png 956w\"\n        sizes=\"(max-width: 956px) 100vw, 956px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>##2-1. @Mapper 사용</h4>\n<ul>\n<li>매핑 정책(Policy)과 전략(Strategy)를 설정할 수 있다.  </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>정책</th>\n<th>값</th>\n<th>설명</th>\n<th>예시</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>unmappedSourcePolicy</td>\n<td>IGNORE(default), WARN, ERROR</td>\n<td>Source의 필드가 Target에 매핑되지 않을 때 정책이다.</td>\n<td>ERROR로 설정하면 매핑 시 Source.aField가 사용되지 않는다면 컴파일 오류가 발생시킨다.</td>\n</tr>\n<tr>\n<td>unmappedTargetPolicy</td>\n<td>IGNORE, WARN(default), ERROR</td>\n<td>Target의 필드가 매핑되지 않을 때 정책이다.</td>\n<td>ERROR로 설정하면 매핑 시 Target.aField에 값이 매핑되지 않는다면 컴파일 오류가 발생시킨다.</td>\n</tr>\n<tr>\n<td>typeConversionPolicy</td>\n<td>IGNORE(default), WARN, ERROR</td>\n<td>타입 변환 시 유실이 발생할 수 있을 때 정책이다.</td>\n<td>ERROR로 설정하면 long에서 int로 값을 넘길 때 값에 유실이 발생할 수 있다. 이런 경우에 컴파일 오류를 발생시킨다.</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th>전략</th>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>nullValueMappingStrategy</td>\n<td>RETURN<em>NULL(default), RETURN</em>DEFAULT</td>\n<td>Source가 null일 때 정책이다.</td>\n</tr>\n<tr>\n<td>nullValuePropertyMappingStrategy</td>\n<td>SET<em>TO</em>NULL(default), SET<em>TO</em>DEFAULT, IGNORE</td>\n<td>Source의 필드가 null일 때 정책이다.</td>\n</tr>\n</tbody>\n</table>\n<h4>##2-2. INSTANCE 생성</h4>\n<ul>\n<li>빌드 시점에 CouponMapper 를 상속받은 CouponMapperImpl(구현체) 클래스가 생성된다.</li>\n<li>따라서 이 구현체를 사용할 수 있는 객체를 생성한다.</li>\n</ul>\n<br>\n<h3>#3. Mapper 사용</h3>\n<h4>#3-1. Dto to Entity 또는 Entity to Dto 선언부 생성</h4>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/5bf79/003-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 8.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdElEQVQI1yXOURLDIAgE0NxHZyrRiLLYNNPe/0pbmn4wfABv2R6lUCfYe6dr4Xs1vlB5QQjdOc1oAIcqVQfNn2xHpw7jhLPWypQSc853bUX2e2BYcdS5HEQAPv7oicbLD34iCKYBnjc4Y18jROIhEWGJ/sO/mE9BjaqO7VwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 12\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/d9199/003-12.png\"\n        srcset=\"/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/8ff5a/003-12.png 240w,\n/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/e85cb/003-12.png 480w,\n/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/d9199/003-12.png 960w,\n/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/5bf79/003-12.png 966w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>#3-2. @Getter, @Builder 설정</h4>\n<ul>\n<li>변환과정에서 꺼내오는 객체(source)에는 Getter가 있어야 하고, 변환해서 저장하고자 하는 객체(target)에는 Builder 혹은 Setter가 있어야 하는데 Setter는 지양한다.  </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/9d576/003-13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 541px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 16.249999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAiklEQVQI123PYQrDMAgF4F5nWmjSaIzJ0m73P9Rb0g3GYD8+BAV9LkkNMSm2sKMUwtEJKgQiBvO7EtFfzPxj9hbJBVHmwoRWCY+DrjoV4+EG9zFrT5hVhDgO1wYrflEtcGmXECKWmXDXPFIKNBBOYcjGuCdGDgwbPK6QbPDW4bWjnQpe+fPFQN+UL18hXoc1xMW0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 13\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/9d576/003-13.png\"\n        srcset=\"/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/8ff5a/003-13.png 240w,\n/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/e85cb/003-13.png 480w,\n/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/9d576/003-13.png 541w\"\n        sizes=\"(max-width: 541px) 100vw, 541px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/ca12d/003-14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 647px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 131.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAACq0lEQVRIx51V6XqjMAzM49T3bcAc2fb930k7MgkNbXfb9Ic+GzDjkTQeX1IZyMdKrVlaZkHWKhJCkZQYpcRcYC5vgXl/3kPI/ZtS6hgvuTJgoRmA101STrKDOicRBhHIaEPGGLx3ZJ3bR+PJWd+/3cFOgMti6c9VUJskwCVNo6B5aYg3GqeZBsTYZmrLRkOutJRCBZlZY8+AnHLIA7Xq6DooGpKilgHYRprXjWrL5HwAU9/ZOc+sFAWDdNVehlPKDJjAMoRA69yoYud9N91HbdS5jre5QI2VVCewAzAiePfqFKVeM/3QiPfFX8XH7++A3qEhLxSDIK3FaeF3oF8COgBu1wL5JBQ7Hyx/DcgpK21RM0gCo+p1Ek+Dnhi+roLWJtAge9OaQ/oPTJ9iCIBoJCWIOoRIKRdKPpF70NlPWJ4Y1ioAJHtTxHHEzt3+DvQdEDXcBklrVVSDogj55MCnATr1EYtlP99PNcUgZRYy/8zClTdG+gn5nFJ+WyVdGxhGCNxK8tYiwo3dkylzU7yWOKOqBwNyQxhQ/1Y2tUoqRdE4KjLdF+8N+UXKXMNSK1ymddsqhWWTu0Wxu3zWoPwHILwtMEO4jffs2Lxwl80eL7cQ55B7Bo9rWGaXDLBpe4MnZrpOMNWB3VqDse8CDzFBmxmbeYqYx5T7uwBFRJSJn/shQLD04NgjDfNKBgAZ7Kagob/af5rg0DFGgAUwt91cec6jA6B3tpsvb+wRBmv2GiJtjS5zZ1syNOWFAsS8wLGd0T2tRys7Ur7PhThM+HBsw7LBrsUbpILUekPGfkmlUqkMY79TEhj/r9uo4di7zICWdQi5sPb48uE68btDPkL8TNjMkJvgrT4ADYsaAnfmg/4ezOKruIzj1Du1vS7QYenAe/H9ftv50Bvx0/gL/togd4BrJyoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 14\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/ca12d/003-14.png\"\n        srcset=\"/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/8ff5a/003-14.png 240w,\n/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/e85cb/003-14.png 480w,\n/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/ca12d/003-14.png 647w\"\n        sizes=\"(max-width: 647px) 100vw, 647px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/977f7/003-15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 547px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 22.083333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAn0lEQVQY042PWQ7CMAxEexxiQ5qlaZwNcf9LDS4BVIkfPkZj2fLzeIm7IGw7rHWoxaA3QgwEYxjMBCJW0d9atjfwqsD7MBiDUIQmjM/OLx1Ln/pHenyJKeNIaUPSdBeFElolTTvBRQxEPFp7oJQO5wOyVKQsyEVd9yVW1KSz1U/g62UXIJ7QIyM5nr6y9tS9RdKjtQ+FFdys/aY96+g9ARj9fM+1OlyMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 15\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/977f7/003-15.png\"\n        srcset=\"/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/8ff5a/003-15.png 240w,\n/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/e85cb/003-15.png 480w,\n/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/977f7/003-15.png 547w\"\n        sizes=\"(max-width: 547px) 100vw, 547px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<h5>201203 수정사항</h5>\n<ul>\n<li>Dto 클래스 내 Mapper 호출 메소드 명 변경<br>\n—> createReqToEntity() -> toEntity()<br>\n—> entityToCreateRes() -> of()  </li>\n<li>Response Dto 클래스 내 Validation 제거<br>\n— res Dto 클래스 serialize 전 validation 로직 없음  </li>\n<li>MethodArgumentNotValidException 이미지 추가</li>\n</ul>","fields":{"tagSlugs":["/tags/dto/"],"slug":"/history/posts/2020-11-10--003"},"frontmatter":{"title":"[Code Convention] DTO Class","tags":["dto"],"date":"2020-11-10","description":""}}},"pageContext":{"slug":"/history/posts/2020-11-10--003"}},"staticQueryHashes":[]}
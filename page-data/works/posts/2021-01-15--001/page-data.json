{"componentChunkName":"component---src-templates-post-template-jsx","path":"/works/posts/2021-01-15--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"작업 기록 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://ssongey.github.io"}},"markdownRemark":{"id":"80de287e-4dc1-5dea-bcba-f2de51e159ec","html":"<h3>요청사항</h3>\n<ul>\n<li>Replication 이 적용된 두 서버의 DB 의 몇몇 테이블 스페이스가 달라요. 확인 해주세요.</li>\n</ul>\n<h3>확인</h3>\n<ul>\n<li>DB 데이터 파일이 존재하는 디렉토리에서 데이터파일 사이즈 확인 결과 두개의 로그파일 사이즈가 달랐다.</li>\n<li>ibd 파일 위치: my.cnf 파일안에 data 경로 </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d10dd/001-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 26.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABAklEQVQY0yWOW1ODMBhEI1dFKaRJIPkgEK5DvbRQ2qQMT44+Ofr//46Mvp3ZnZ2z6HQ8ruv6+vYy64u+ab0YczPaXCtVfn68f/98VUoty3J4Pozjab5M53m66uvGXdegh+BRCMBBIGIMeJ8RKim9dz2EUN934zRuwEVGnsI8xnkcZzFWLAkcZ8sRIbRpWqCkAqgBGikVF/5fNwzDzRjf8+u6ZoSIJJGcFwB5mjq2fWdZKNztsiwnYbhpc8bKNE2iiATBNu66zmjtum5RKk5Iw0WVpK2AFjKJceT7KIrislQ5pTXnKuWVEL2UkrL/2/N8tixbFsUeY0Epp5ufSRDAmGc7vwosIA5Pzsj0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d9199/001-01.png\"\n        srcset=\"/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/8ff5a/001-01.png 240w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/e85cb/001-01.png 480w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d9199/001-01.png 960w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/07a9c/001-01.png 1440w,\n/devHistoryBlog/static/1166e33cedb8d49085d6c6d7e0452df1/d10dd/001-01.png 1749w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>혹시몰라 mysql 접속 후 data+index 사이즈를 확인했지만 현상은 동일했다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/7b857/001-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAl0lEQVQI102NzQ6DIBAGF38Ao6QKiHiql3opSfVm3//BvgKtpodJdjeTWXKjw+xn+B/Wjui6DkoptG0LIkIIT7yPI94VJjfBORddH10LKSWEEOCcZ5eGQcNoA2NMltJeliWqqsokaV0f2LcNjWigtUZ/62FHm2fG2Dd0IqTIH1Kkrusr8s9yXxBeAcQJPDopkiiK4nLO8Adwm0S3VOEI6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/d9199/001-02.png\"\n        srcset=\"/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/8ff5a/001-02.png 240w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/e85cb/001-02.png 480w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/d9199/001-02.png 960w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/07a9c/001-02.png 1440w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/29114/001-02.png 1920w,\n/devHistoryBlog/static/9c11b3a612210fc31318553d024fff7c/7b857/001-02.png 1941w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/2463a/001-03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAkklEQVQI11WNSw6DMBBDE5KQZIHykWCIVLqgVyi7sin3P5NhRlXVLp6sGVu2mmkGQxfTOCGljGEYhJQSjDE4jjce64paKmgiybfWkHOG9x4hhEsDXN9DlStUa5Uyhk0usdai54BS2PcXltsiI7UUKSIiudnXWosKMUY45wRe+xo/bM8N432EMhrOOvl1Xfdf9OEEhwJEyoyJtcgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 03\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/d9199/001-03.png\"\n        srcset=\"/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/8ff5a/001-03.png 240w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/e85cb/001-03.png 480w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/d9199/001-03.png 960w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/07a9c/001-03.png 1440w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/29114/001-03.png 1920w,\n/devHistoryBlog/static/818033cf5db223ac14ee081057d25709/2463a/001-03.png 1937w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<ul>\n<li>확인해보니 각 DB는 알아서 Optimizer 가 돌기 때문에 사이즈가 조금 씩 다를 수 있다고 전달 받았다.</li>\n<li>그래서 실질 적으로 해당 테이블에 optimize 를 진행해보았다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 명령어\nmysql&gt; optimize table [테이블명] </code></pre></div>\n<ul>\n<li>수행결과 (innoDB의 경우 아래와 같은 결과가 나옴, 오류가 아니라 수행이 완료 된 것임)</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/0fb99/001-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 35.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABA0lEQVQoz4VR2XKDMAw02MbGMjYBwtC0Sf//K7eSOCadPvRhR8fI0u7aTNMEIkLOGSkl9H2vsZSiedd1Cu/9lQustb/Qti2cczDzPGMYhqu5RwviA/5YpMf4aIw98lBAfNAY8wdt28DIsDyS7e+QxxJDiMqYKGtP8si9d3bOOlgmIXvMsiy4jSMkTrcJYsHIda0j1nXFkAeEGA9JXmvKpDaJslqrspc3RMz88fjEtm34ej55wZ3zD9x50cwHvl8vlbuzi3DMIKVe5TVNc1kk+WmZ0UEuRFoIQSHUpS8SKdGRx2tGrJAZ73arziifpZJLLSqxjpVjUdmd3z9E/DkZ/Qdh+QMMC5kcxOq8wQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 04\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/d9199/001-04.png\"\n        srcset=\"/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/8ff5a/001-04.png 240w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/e85cb/001-04.png 480w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/d9199/001-04.png 960w,\n/devHistoryBlog/static/e3921141d0e7aacd52d03f8b67c79cce/0fb99/001-04.png 965w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n     </p>\n<ul>\n<li>실제 ibd 사이즈도 동일해졌다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/5df5d/001-05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABYklEQVQozy2S227bMBBE2eoa24oRR3slqSZOjKAtEMmu8v+/1qGchR4o7Q7PcKiQ8uQpuSuLmnvMmYi6rgshfH2t8zLXdRNjQktUiZlEsMZit9uFHNPkMQk7UTabVLu2raoK4nW9Lde5aZqU06+UPtzfRC5mf/LExyMGwkvKZ/Mz8QvRu+rr83P1o9RdPM93cozmkdmZokpk6ZqmiOHBBO9szCA/DY9D1z9svXX99zl/1nXt0JoBC8ab6jvO93iU3T64O6xeiF+JLmq/kcHT6fAtvs3L0mxkK2TB0YA555xVh76HOLIqghiJRMVTHIVBu5OXK8RtLolGsTKGYRhR08MwBCSJhoogZDcbx7Ha6juwLe2UMmZMVSAWgdm2LdcRIpTYR8p3NcMzDIeq+onW7XZFYCCntF0VCjOi05QQwWG/L2SIheGItsaErZqm2P67Vd8/FDH2xY+Q9OQnGoHnvu//A3ngL356jFa1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 05\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/d9199/001-05.png\"\n        srcset=\"/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/8ff5a/001-05.png 240w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/e85cb/001-05.png 480w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/d9199/001-05.png 960w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/07a9c/001-05.png 1440w,\n/devHistoryBlog/static/996908a178de1752b4dc86abb70ea7ee/5df5d/001-05.png 1572w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<p>테이블 최적화에 대한 몇 개의 글을 찾아보았다.\n아래를 참고하자</p>\n<ul>\n<li><a href=\"https://hyunki1019.tistory.com/52\">https://hyunki1019.tistory.com/52</a></li>\n<li><a href=\"https://fliedcat.tistory.com/80\">https://fliedcat.tistory.com/80</a></li>\n</ul>","fields":{"tagSlugs":["/tags/mysql/","/tags/optimize/"],"slug":"/works/posts/2021-01-15--001"},"frontmatter":{"title":"[작업로그] MySQL Optimize","tags":["mysql","optimize"],"date":"2021-01-15","description":""}}},"pageContext":{"slug":"/works/posts/2021-01-15--001"}},"staticQueryHashes":[]}
{"componentChunkName":"component---src-templates-post-template-jsx","path":"/k8s/posts/2022-04-30--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"일상 & 작업 기록 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"1b23a69f-56cc-5051-ac1a-436ff4dcc93f","html":"<p>ingress 리소스파일을 kubectl로 apply 할때 아래와 같은 경고 메시지가 발생하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Warning: extensions/v1beta1 Ingress is deprecated in v1.14+, unavailable in v1.22+; \nuse networking.k8s.io/v1 Ingress</code></pre></div>\n<br/>\n<p>ingress apiVersion 중 extensions/v1beta1 이 1.14 버전부터 deprecated 되었으니,<br>\n<span class=\"text-mark__green\">networking.k8s.io/v1</span> 을 사용하라는 경고였다.</p>\n<p>쿠버네티스 버전을 확인해보니 1.21 버전으로 확인이 되었다.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/4f9d33bd33675a50a64608617a1d1af3/d9199/30-001-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAkElEQVQI152NwQqCQBRFHxSOhqNjgjgLISrSVBR1aqn//1UnZj6hxYHLu/dxRM7CSQlJckFrHRCR/zFWY29XPu7Ltm2M40gURaRpSpZlxHGMMYaiKKjrOgj9zfdKKcqyDL3/8VmG98Dj/qRtX6zLStd1NE2Dcy7gJX3fM88z+75zHAdVVQXyPA/7aZqw1gbhD1lZSiIdAeQRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"30 001 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/4f9d33bd33675a50a64608617a1d1af3/d9199/30-001-01.png\"\n        srcset=\"/devHistoryBlog/static/4f9d33bd33675a50a64608617a1d1af3/8ff5a/30-001-01.png 240w,\n/devHistoryBlog/static/4f9d33bd33675a50a64608617a1d1af3/e85cb/30-001-01.png 480w,\n/devHistoryBlog/static/4f9d33bd33675a50a64608617a1d1af3/d9199/30-001-01.png 960w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br/>\n<p>ingress apiVersion 변경 후에 다시 apply를 하니 serviceName, servicePort 필드를 해석할 수 없다는 오류가 발생하였다.<br>\n확인해보니 정의하는 부분이 변경되어 아래와 같이 적용하였다.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/e66072e9a835ae24cbcf19829a297361/913b9/30-001-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 59.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACl0lEQVQoz41TS08TYRTtL2BhxdBpS+fZeTLTKUMptTUgCepGSbQtGPxdjQFaKLDDwnRKBBVUEhJ+ADsDLtixBZTw6PHOBzG6Y5KTOzM5Ofec794vgns+NzddbG34mJt9j7n5ecz/g3q9jlqthoODA0R+Hv5Asz6LemMBjUbjP4TklZUVXF1d4abbxeuXLyBwD8HzPJLJ5F+E3z09PYwfaX1YhcRFoUg8+vv7Cbek8D0Wi8GyLJyfnTGX09NvYWsSTF2FJCtIp9MMmq4jlUqx5hG/HcDU0vBsg5EUIqiqyiDLMkqlEs7uBKuVCgwlhWFbwYCugIsnkIjHWfPe3l4sLy+ToO9DlUUiqcgNpCGKIuJECl2GDnO5HC4vL5ngVLWMx7aIrG1CEgUWNYQkSYhGo1hcXERk3W/D1QQ8GbKQVmSIAhHJvkCV4zgUCgXs7e1hf38fMzPvGNd1LEpDcdUQKovcR82bzWYo6ENTRBQ9IqUppkKxiRQSeYGc5/M4OTnB6ekpKtUpOAqP556BPLl0TYKhUTILMp390m3kNmRJxPigibGsgSwNIWsY8CwTGU3F6EgeFxcXLPKbchkqOS+6BsaHdAy5Djwvh0HHhpKIo7lEgkEQQNc0jLgZPBuzMVp0iZihWDYMXcNEqYjf5+dMsExD0ensRlwLE8PkjKplO8jYNuRkAs3QYau1hmScg0UT9UwJTx0eo44IjSI/osmFjX7dCVaqVeJJsAdsFAYtJphMCbAokcqnbiMfHx8jnPRWJ8B2p41vdBt2Oj6+bn7EF/q3Q/X6+hpdWuxXk5MQY320FTIbTt7godKZm7RqiegD1BcWELnv1QsFv+/uor3Wwqe2j01/HTvBGrY3OvgctOGvruLw6Ah/AJkAIFbKUZcyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"30 001 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/e66072e9a835ae24cbcf19829a297361/d9199/30-001-02.png\"\n        srcset=\"/devHistoryBlog/static/e66072e9a835ae24cbcf19829a297361/8ff5a/30-001-02.png 240w,\n/devHistoryBlog/static/e66072e9a835ae24cbcf19829a297361/e85cb/30-001-02.png 480w,\n/devHistoryBlog/static/e66072e9a835ae24cbcf19829a297361/d9199/30-001-02.png 960w,\n/devHistoryBlog/static/e66072e9a835ae24cbcf19829a297361/07a9c/30-001-02.png 1440w,\n/devHistoryBlog/static/e66072e9a835ae24cbcf19829a297361/913b9/30-001-02.png 1822w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>","fields":{"tagSlugs":["/tags/k-8-s/","/tags/ingress/"],"slug":"/k8s/posts/2022-04-30--001"},"frontmatter":{"title":"[K8S] ingress apiVersion 변경","tags":["k8s","ingress"],"date":"2022-04-30","description":""}}},"pageContext":{"slug":"/k8s/posts/2022-04-30--001"}},"staticQueryHashes":[]}
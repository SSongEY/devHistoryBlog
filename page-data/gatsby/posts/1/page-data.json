{"componentChunkName":"component---src-templates-post-template-jsx","path":"/gatsby/posts/1","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"EY's 개발 히스토리 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"3951ff90-036e-5f60-a571-cde32fa113c1","html":"<p><strong>1. gatsby-cli 설치 및 프로젝트 생성 (lumen 테마 사용)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -g gatsby-cli\n$ gatsby new devHistoryBlog https://github.com/GatsbyCentral/gatsby-v2-starter-lumen</code></pre></div>\n<p><strong>2. gatsby 로컬 서버 구동 (기본포트 8000)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> devHistoryBlog\n$ gatsby develop</code></pre></div>\n<p><strong>3. github repository 연동</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">//git remote <span class=\"token function\">add</span> origin <span class=\"token punctuation\">[</span>repository_url<span class=\"token punctuation\">]</span>\n$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin https://github.com/SangBeo/devHistoryBlog.git</code></pre></div>\n<ul>\n<li>[브랜치 생성]<br>\ngithub 페이지는 최종적으로 master의 파일들이 배포된다.<br>\nmaster에서 gatsby 파일 관리와 gh-pages의 빌드를 같이 하니 난잡해서 보기 좋지 않다.<br>\n그래서 개발은 develop 브랜치에서 진행하고 master 브랜치는 gh-pages로 배포할때만 사용한다<br>\n-> develop branch : gatsby 파일 구조를 관리<br>\n-> master : build 된 파일들을 github 페이지에 배포</li>\n</ul>\n<p>3.1. develop 브랜치 생성</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">//-m 옵션을 이용하여 develop 브랜치로 이동\n$ <span class=\"token function\">git</span> branch -m develop</code></pre></div>\n<p>3.2. 커밋과 푸쉬</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> *\n$ commit -m <span class=\"token string\">\"init commit\"</span>\n//push 시 -u 옵션을 붙여 이후 push 할때마다 develop 브랜치로 푸쉬한다\n$ <span class=\"token function\">git</span> push -u origin develop</code></pre></div>\n<p><img src=\"/devHistoryBlog/f6762a3447b66ffb0bcdd9c10bcb04a8/1.png\"><br>\n그럼 위와 같이 develop 브랜치에 소스 push가 된다.</p>\n<p><strong>4. gh-pages 설치 및 설정 파일 수정, 그리고 Deploy</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev gh-pages</code></pre></div>\n<p>4.1. gatsby-config.js 수정\n<img src=\"/devHistoryBlog/9b9f7bf8ba35b6c0af38da64066cf443/3.png\"></p>\n<ul>\n<li>url 수정</li>\n<li>pathPrefix 추가\n4.2. package.json 필요시 수정</li>\n</ul>\n<p>4.3. Deploy</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">//build 및 master branch로 push\n$ <span class=\"token function\">yarn</span> deploy</code></pre></div>\n<p><strong>5. 실행</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">http://sangbeo.github.io/devHistoryBlog</code></pre></div>","fields":{"tagSlugs":["/tags/gatsby/","/tags/react/"],"slug":"/gatsby/posts/1"},"frontmatter":{"title":"Gatsby 구축","tags":["Gatsby","React"],"date":"2019-08-18T14:46:37.121Z","description":"gatsby + gh-pages + github"}}},"pageContext":{"slug":"/gatsby/posts/1"}},"staticQueryHashes":[]}
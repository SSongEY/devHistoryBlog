{"componentChunkName":"component---src-templates-post-template-jsx","path":"/works/posts/2020-12-09--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"일상 & 작업 기록 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"76273a92-6fa2-5f9f-af9e-8f722d4d0c80","html":"<p><strong>1. gatsby-cli 설치 및 프로젝트 생성 (lumen 테마 사용)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -g gatsby-cli\n$ gatsby new devHistoryBlog https://github.com/GatsbyCentral/gatsby-v2-starter-lumen</code></pre></div>\n<p><strong>2. gatsby 로컬 서버 구동 (기본포트 8000)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> devHistoryBlog\n$ gatsby develop</code></pre></div>\n<p><strong>3. github repository 연동</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">//git remote <span class=\"token function\">add</span> origin <span class=\"token punctuation\">[</span>repository_url<span class=\"token punctuation\">]</span>\n$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin https://github.com/SangBeo/devHistoryBlog.git</code></pre></div>\n<ul>\n<li>[브랜치 생성]<br>\ngithub 페이지는 최종적으로 master의 파일들이 배포된다.<br>\nmaster에서 gatsby 파일 관리와 gh-pages의 빌드를 같이 하니 난잡해서 보기 좋지 않다.<br>\n그래서 개발은 develop 브랜치에서 진행하고 master 브랜치는 gh-pages로 배포할때만 사용한다<br>\n-> develop branch : gatsby 파일 구조를 관리<br>\n-> master : build 된 파일들을 github 페이지에 배포</li>\n</ul>\n<p>3.1. develop 브랜치 생성</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">//-m 옵션을 이용하여 develop 브랜치로 이동\n$ <span class=\"token function\">git</span> branch -m develop</code></pre></div>\n<p>3.2. 커밋과 푸쉬</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> *\n$ commit -m <span class=\"token string\">\"init commit\"</span>\n//push 시 -u 옵션을 붙여 이후 push 할때마다 develop 브랜치로 푸쉬한다\n$ <span class=\"token function\">git</span> push -u origin develop</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/f6762a3447b66ffb0bcdd9c10bcb04a8/38a65/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 79.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAACiUlEQVQ4y5VUy24cNxDc/wd8TI7+gQDJPYecDfgQIICBQEgiSJaUXc2Tz+FzytU9KwlxfPEsCuRwyGJ1d/WenLUYhhnjuuFpjLjMEVvKirhlpFxe32Ue4obz84jVOhjrCQcXIjzXc6k45UQCbxBjRC0FKSU9tG0cuTEJGeeRSHrJcVDea+tovetYuFZbw0luXoxDzhnf/+z663uniIh933GqDdgKeDtvqJ0fuY0opVF1poLjXbAliaDoXPbVQoUbCfqVXgmLR3BnOHPGFieuBvTm0KpFK1bnvfnr6LBzvnfP4xuW9Ix/7C0+hweMaRDBOKU4Yh4+wZu/4da/kOI9D51560XHvR4A5zU9Ygv3xB369oib8Xf8cPMe7/78ET/d/UyFHSep1N3DmZWbMK8eyyr5bERBZ1waXj8gVV9tgHGRCIws4eO/f+CX21/x2+MH1M6iTCbiYfB4mjxGWzCHhsua+B4xuobJd1jmyeUdnrkOV7jUMZiAiXuNqXC+aR5PLmz0IL3EyoTUFDK/TAbnkZgsxsXqnmG2cCxUrjsio4gsZGCRhsVgtv4gFLuEwKRTbqOPdsbWWoWl4S1Na51XiIFXY1nppH6rtMfL6HxQ7yqh5OV5oZFzVULDQ8uyKtbVMKdWiRbOZ66JuV8s8gLtFpIqYSLRzNzlephJOsbzo6cqJ5A54fyhNJdy9eUboXSUdNOVsGA0WXOnH+Wwc6rUar++hS1KE1P0NaGGTFIlFPdflsx87NpKokrIJNzVGCV5yZ+EnfL/Q5bLXgml0Vf6wcZD4cbml7BFqQ+CqH0qoyg5Qt7/A/nDeA050AYPA9vIV1VoqGKa5gPzgomF0JEYubZ9oyiiXHIszxdg0thqS0D2ygAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/f6762a3447b66ffb0bcdd9c10bcb04a8/d9199/1.png\"\n        srcset=\"/devHistoryBlog/static/f6762a3447b66ffb0bcdd9c10bcb04a8/8ff5a/1.png 240w,\n/devHistoryBlog/static/f6762a3447b66ffb0bcdd9c10bcb04a8/e85cb/1.png 480w,\n/devHistoryBlog/static/f6762a3447b66ffb0bcdd9c10bcb04a8/d9199/1.png 960w,\n/devHistoryBlog/static/f6762a3447b66ffb0bcdd9c10bcb04a8/38a65/1.png 1075w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    <br>\n그럼 위와 같이 develop 브랜치에 소스 push가 된다.</p>\n<p><strong>4. gh-pages 설치 및 설정 파일 수정, 그리고 Deploy</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev gh-pages</code></pre></div>\n<p>4.1. gatsby-config.js 수정\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/9b9f7bf8ba35b6c0af38da64066cf443/b0122/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 416px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACBUlEQVQ4y31U2XLbMAzUx7RJZN0USfHS4St2JjN96f9/y3YFH3XSpA87AEl5ASwAZ/vhN6I+YUgH+OmESidU8xnN8Req8Qw97WC3CX0aUSmHvNbYNAab1qDoaGuDl1LjuejFZk69QncLerfAhj1cOiKv+KGZUNIvwxE1g5g5QMWAznsGiQK7jVAukcj8Jbw5tyhyrtZzf71T4svb5vJ28wXF7bvLfTbqdwxqD+1mNHpkKVZKNMygGZz48TxLRmaOGHZJ/C54Kf0xoUuGpb2kzMg/+fhjjV71olXOO9GKEN0IuadueXUlKfRHDQ86InYetnVYVMSsAtp6IFFgSQzyoj7g6VrmXZ4HMiFMfcTZjFhojyzZdQE5M7HbkSWyu2OUZpglSckFJXkuHjX+VLJmZm/s4omEe9oVnfJoXUTVW9TGoVytdbyj3w5fEt0Jh2FGsDM8s1S1hWOApuGPKivlPV27KX7+fal3wjBzDklo7ETtSFKsolND+vfR+DQi/0Pmx6M05cCSt31CYzzCcuDAjtLRUlnZiNWu58eGfIUscs0Sm7EjNBuifJQG6CmhXf1phN1NcPsZ3bBuBYmr75Gl3TuCnnFwW+z9DsEsKBT3mSNUEgWDFO2KtUkJZRc5j7e7f8EMX2Wwa25FO87YqIGbMWGQP4QAf5xoI/xhEr913BBq/J2efwBqtL1h4lKbbQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"3\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/9b9f7bf8ba35b6c0af38da64066cf443/b0122/3.png\"\n        srcset=\"/devHistoryBlog/static/9b9f7bf8ba35b6c0af38da64066cf443/8ff5a/3.png 240w,\n/devHistoryBlog/static/9b9f7bf8ba35b6c0af38da64066cf443/b0122/3.png 416w\"\n        sizes=\"(max-width: 416px) 100vw, 416px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>url 수정</li>\n<li>pathPrefix 추가\n4.2. package.json 필요시 수정</li>\n</ul>\n<p>4.3. Deploy</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">//build 및 master branch로 push\n$ <span class=\"token function\">yarn</span> deploy</code></pre></div>\n<p><strong>5. 실행</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">http://sangbeo.github.io/devHistoryBlog</code></pre></div>","fields":{"tagSlugs":["/tags/gatsby/","/tags/react/"],"slug":"/works/posts/2020-12-09--001"},"frontmatter":{"title":"Gatsby 구축","tags":["Gatsby","React"],"date":"2019-08-18","description":"gatsby + gh-pages + github"}}},"pageContext":{"slug":"/works/posts/2020-12-09--001"}},"staticQueryHashes":[]}
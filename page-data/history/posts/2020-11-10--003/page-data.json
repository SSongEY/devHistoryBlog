{"componentChunkName":"component---src-templates-post-template-jsx","path":"/history/posts/2020-11-10--003","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"EY's 개발 히스토리 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"d01df248-ca57-5a37-a968-92e06076e651","html":"<h2>DTO Class Code Convention</h2>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/c7dcc/003-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 641px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 120.41666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABJ0AAASdAHeZh94AAAC+ElEQVQ4y6VVW5KjMBCb22xs47cxj5Bkpub+Z9KqDSRkkt392I8uEwqE1FJ3PnI/IKQe59nictYYqpTBMBiMU8U4XhBjRkwZpa8odUBOBTVNyLFAGw2tNYwxrT4aYO4xZIcpGZRAsGhQh4rpvKCvI5xz6LoO1tpWcr2XgLwARgJavhSj5ssGJ6VxOkkp1i8odWovyalOLKW2Ot3B9nMFpOSUHL6/FaVrSmMVKYO+H3kOjWUufZPdztijTyO88+8Zeu9wk/5lg6UnENmOSaMvGcO0sGZ+NDcl1rI6B2fXVrwFNHxgIrMbjVmmDiF4ePbL2a13BNql/axXyQ3QotCU60CWxSFRljjrvUdHJ5V+dvNYPxiOd8CaNT4lOsUiMCo+hNXV9tIOoA/Xr/VR6gZoLAZK/loI2FuCRbILlGwbQ73LvYO+Z7tJLo1hZgbPBO0Tr+nmaoJvwDEmOmob2J/YPQAZC3nR8eHQ6SazMSRAcDTI27ubax7XHOo9jweDGmBiH60jC6txZR/HkjglVyznEd+3AZe5opYJ0Sc4miRshX3gGROv/frh50lpI2URhRGB5eHE+6lUhjo0sMQS5pKAvKUg5dwAk/8BKF+WwCq9Oqq1ekgTmfJbq6f76iBZHSU3QAbXOenf35v+r7rPcowOnzeFWldApVamSunG6mhIM+POmM+LIrMzZA5lH4Zo8fmpMM/rYghcYVEqRcSQ787HzYzEezkUJiA2MKMPDKXxMrtf47ocrrJc6fZcThgHLt/LF12/IDOvLY+cIE+g4CLb5DfAwyxLyfBn7sKR4a7Rc00N6Nnb7IVd1xJwzGDbjbvk12BXdGIKQx0J6qxhqLvmukzJGim9ra51a4uJpvX44fzbYC+UPLJ3c/H8Gxgo98b/ljOWYcQyX7kXzxjnBeflygyyh3Gd+cD+Wk7TU7DNFuxIhnIvk3npuXzlYy63nokxAiIAAigBl1M2uSySw8b2TcYaav2YU7VHRj1KvQ/4U7Dly62x+v+C/RtILOWimHTB8QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/c7dcc/003-01.png\"\n        srcset=\"/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/8ff5a/003-01.png 240w,\n/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/e85cb/003-01.png 480w,\n/devHistoryBlog/static/cc6f89aaf1252ee4350cc615b916ff3c/c7dcc/003-01.png 641w\"\n        sizes=\"(max-width: 641px) 100vw, 641px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>#1.클래스 정의 방법</h3>\n<ul>\n<li>도메인 또는 리소스 별 DTO 클래스 생성 후(CouponDto), 각 API(Controller 에 정의된 메소드: CreateReq, CreateRes) 에 해당하는 DTO를 InnerClass 로 정의</li>\n<li>CouponDto의 객체 생성을 하지 않으므로 InnerClass는 static 키워드를 명시한다.</li>\n</ul>\n<br>\n<h3>#2.생성자의 접근자는 최소한으로</h3>\n<ul>\n<li>객체 생성이 불필요한 클래스의 기본 생성자 접근자는 Private로 지정<br>\n—> 개별 DTO는 InnerClass로 정의하기 때문에 객체 생성이 불필요하다.  </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/85ff8/003-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 467px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 14.166666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAlklEQVQI10XMURLCIAwE0N7GgVBSKgVC0Dp6/zOtKR/68SY7SWaX83To3UPVo4lppt5QarCsdnuhFgFvCdIHSuv2p5YV5RBIHujHgJQBIsLyEbIF2YGg2aNkRusV+lA8z7cVC1LaEUIA84bIPLFZ14g48TQLKxO2QEgrIUcPtof9fiAfFXvOiDHOMu89vHM/7prXbvrnL36yXrDoT8t/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/85ff8/003-02.png\"\n        srcset=\"/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/8ff5a/003-02.png 240w,\n/devHistoryBlog/static/074fcf83cf622a547fa49db7e0942133/85ff8/003-02.png 467w\"\n        sizes=\"(max-width: 467px) 100vw, 467px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<h3>#3. Request Dto 클래스</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/6114d/003-03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 623px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.16666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAABm0lEQVQ4y4WSWXLjMBBDfRyzuYiLqH08k9z/TgjYslRyOZN8oERKpUegwVsqFSl12FaDYRA4J7D2kFWJ7Gvn3EVen9fvTbcD+PnX4M8imAmdR0sZzNOAdf2Hvg6o48TnqOvCf2oaUcuo0DdgCHTYC5ZqVUMUlGBQokchYJxmlL6ejq6upCWR9rwArQsoWbDNu7tcEnyIGsuKwf1+hzFGIYdOaNtfDjiBQxF8rHQ5WMRUGKtHjBHB+9PV//QW2RHYJ8FjbJGdxmwRu64BX2d0XX+n02HlDB+bYCLU0ZVXsc0TZF+j/gRsgBTYbGYhyWqbdZg4xw6BLlPKyCkpXH6Kz4NuuR/hWzTXmrVs3HOGmXHbGAhPXt8JyzFNLMdoSXtRu55lNYe5TnSR0BG40eFUAqZlw7ws+HjMeKwjJrotiTNl8ylnLSyXwnXRfd85fvMK1cg+BM7Ro/O8Ml7oruMPvPBlQIgZMSTeyYrIgxvkKC03MPd93IH2AGqbhLYTTBu+xthj6Vqe+7fIe+y7af89Ix8O9+bk1ztnfynlC39rj6FhO9ZbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 03\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/6114d/003-03.png\"\n        srcset=\"/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/8ff5a/003-03.png 240w,\n/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/e85cb/003-03.png 480w,\n/devHistoryBlog/static/8da319325ee3518a439824e6331866c8/6114d/003-03.png 623w\"\n        sizes=\"(max-width: 623px) 100vw, 623px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>##3-1. @NoArgsConstructor 의 접근자는 Private로 한다.</h4>\n<ul>\n<li>@RequestBody 를 사용하면 Spring 내부에서 Jackson 라이브러리를 사용하여 Deserialize (JSON 데이터와 Request 객체 사이의 변환) 을 한다.</li>\n<li>이때 기본 전략으로 Default Constructor + Reflection 을 사용한다. 이때 최소 접근자는 Private 이다.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/a0209/003-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 725px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.249999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAcUlEQVQI1z2MQRKDMAwD+Q7JJIAd7BBo4f+f2ro99LCjlQ6adHekGeum9D5zjsQI3BNmX+Zwj+1GdWcTwfwIOtYPmhgm4doppTA16//D0RKPZ46Wf+mSee0p+sq4Hq73w3ndiCp1Wah1iZNKLeGROWc+Mk1AI2OA0P4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 04\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/a0209/003-04.png\"\n        srcset=\"/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/8ff5a/003-04.png 240w,\n/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/e85cb/003-04.png 480w,\n/devHistoryBlog/static/0edbaa6e53d8d82ac1948d8cbd2130d5/a0209/003-04.png 725w\"\n        sizes=\"(max-width: 725px) 100vw, 725px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h4>##3-2. Data Validation</h4>\n<ul>\n<li>Bean Validation에서 제공하는 @NotNull, @NotBlank, @Pattern 등을 사용하여 Request Data에 대한 오류를 최소화 한다.</li>\n<li>꼭 @RequestBody 옆에 @Valid 를 명시해줘야 한다.<br>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/33a7b/003-05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlklEQVQI102OWQ7DIBBDc5wEMsOwEyiJ2vvfySW0qvrx5OXHXmrdkbNAvMAGCxctRBiG9IRJgVnBsJ56Q3fPZsDDM9iYj45uqSWg9wulNBxHQ+snHq3gdWY8e8Z1ZbRKSElNYlTwnhBiRkwJzgekfIwujJyxkB5ru4w3AtI0V8R5GHFgGW+tB+2MdVXYNv3l9tsf68+/AbAsXfgbOtFeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 05\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/d9199/003-05.png\"\n        srcset=\"/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/8ff5a/003-05.png 240w,\n/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/e85cb/003-05.png 480w,\n/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/d9199/003-05.png 960w,\n/devHistoryBlog/static/83f137a7f7568267a24cd8ac6094b064/33a7b/003-05.png 1119w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </li>\n<li>Validation이 실패할 경우, MethodArgumentNotValidException 의 예외가 발생한다.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/eba85/003-07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 28.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA8klEQVQY022Q3bKDIBCDfZ0q7g8gVp3W0/d/qJws9LIXmcDM7kfCVJvhagvOK+M4K/3C/TrweZ/43Bf+6PfV8N4NbSvIdUOlcqnwXLpEFcuSMM8zJs0KU8d+vLC1A23fse8NtWRsBITn7CiloNQK84y6NagZUlqxris9EbgMoBCoagSeaM8AHqjtyeWNw4JVpHssJC7HPRZ/KWZ6QhGD82Vzp6xXMKfyuKsGNPWZzIrpm+aXRsIkcHNoLJvQdSjOlDBVtIj/UlNWXLB81VN3Sa8+WSEoPQjUvmABptzLSM3/dRneYZLYgIAQz2M2979VNvsHOkq7d095jcEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 07\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/d9199/003-07.png\"\n        srcset=\"/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/8ff5a/003-07.png 240w,\n/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/e85cb/003-07.png 480w,\n/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/d9199/003-07.png 960w,\n/devHistoryBlog/static/9d0c349132ff7b8265c54c3ec18f8b51/eba85/003-07.png 1054w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<br>\n<h3>#4. Response Dto 클래스</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/27524/003-08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 646px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABMUlEQVQoz52RWW7DMBBDcxxrt7VLcZve/1IspRiOgwD96AcxEkZDc55vIRWsPsF7g/0uEYOElOoi+YfErEq93t1irnBbRAgaj4dE7xLWKRjzlLUWRps5ZAzP9hDP1jhorU/TodtIuIWMwIQPmrWqsFeJmgS1oLWO+/6DXCoi34aYEBLfM0TyBc6un4ZDI0lfaeYVWlhRS0HjcAmJSDw2H6A4KIR409XskjBBGwOtuK5mQ4/1eB8rKn2wEhyQJ9crNynEyXMa+tygrUO0EncmzEzaI+9cre/fKFy3l4zWv5Ayk/cdhSjWzc/NrHOs7jOhIeCyKQSn52CpDZnyW0D2ZOjJLiX26mQ5amQdbBM/PuZPQ3v8PcGVxMFqWRaIoclrOSRe9ey9eJ6Gbl0no6fUv/ULZeoWWeM+Od0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 08\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/27524/003-08.png\"\n        srcset=\"/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/8ff5a/003-08.png 240w,\n/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/e85cb/003-08.png 480w,\n/devHistoryBlog/static/dd4f2ddab4b21bea77b93a35005efb67/27524/003-08.png 646w\"\n        sizes=\"(max-width: 646px) 100vw, 646px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>##4-1. 객체 생성을 위해 필드가 3개 이상일 경우는 @Builder를 사용한다.</h4>\n<ul>\n<li>@Builder 사용 시 All Arguments Constructor 가 자동으로 생성된다.  </li>\n<li>생성자를 이용한 객체 생성을 막기 위해 생성자를 따로 정의한 후(@AllArgsConstructor) 접근제어자를 Private로 정의한다.<br>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/4d08a/003-09.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 709px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 15.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQI13XOQRLCIAxA0R5HCR2FtIQCbe14/zN9qaMLFy7eZJWfDDolNGVu90BZrrTqMHOI/HLuPxHfydtwBqdciD3ayoV9FY7dUYsj9/CSr/3AjVoPWnsQQiTZgvWdU7LMHA3TjMaZIX4+DKqU6NhnIYUeTYL12VQo6sllZTue1LYRdWIcR7z3b9/vTi+E417th/n3MAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 09\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/4d08a/003-09.png\"\n        srcset=\"/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/8ff5a/003-09.png 240w,\n/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/e85cb/003-09.png 480w,\n/devHistoryBlog/static/c7baa199350d983fb243c2b869cc1743/4d08a/003-09.png 709w\"\n        sizes=\"(max-width: 709px) 100vw, 709px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h4>##4-2. 객체 생성을 위해 필드가 3개 이상일 경우는 @Builder를 사용한다.</h4>\n<h4>##4-3. @Getter 필요 이유</h4>\n<ul>\n<li>@ResponseBody 를 사용하면 Spring 내부에서 Jackson 라이브러리를 사용하여 Response 객체를 Serialize(ByteCode로 변환) 하는데 이때 getter 메소드를 사용한다.  </li>\n<li>따라서 response 객체는 @Getter 를 사용해야 한다.</li>\n</ul>\n<br>\n<hr>\n<br>\n<h2>MapStruct</h2>\n<ul>\n<li>DTO -> Entity, Entity -> DTO의 객체 매핑을 위한 라이브러리</li>\n</ul>\n<h3>#1. gradle 추가</h3>\n<ul>\n<li>롬복과 함께 사용 시, lombok annotationProcessor 보다 mapstruct annotationProcessor가 먼저 선언이 되야 한다.</li>\n<li>SpringBoot 버전에 호환하는 MapStruct 버전이 존재, 해당부분 확인 필요\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/fbf08/003-10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 20.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlUlEQVQY012PURLDIAhEPY8iKsYY7f3PtUVMOm0/dnZHQB6u9YEsFSEElFIgIqYYSd88iILVgvonhzurvPc/cuc17UMiwhgDrznNe++oTVCvgnpm1F62NJcjQVqGaOYUEZnAebvbhIdtZWaklJRuFxeluQ7Rnemm+qH+cvec/BBOJVx0Z29GKA+d+jFEe9m0Fvyfu/QGPa18N9XMaegAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 10\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/d9199/003-10.png\"\n        srcset=\"/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/8ff5a/003-10.png 240w,\n/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/e85cb/003-10.png 480w,\n/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/d9199/003-10.png 960w,\n/devHistoryBlog/static/17bbbd0c849a5fb8341395ca3b978c3f/fbf08/003-10.png 962w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<br>\n<h3>#2. Mapper Interface 생성</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/7b1dc/003-11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 956px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 23.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9ElEQVQY0z2QWXIEIQxD+zphNRhommWYSe5/JsXwMR+UqUKWnrg4Jby6Qi0K/elYc2GMN+brD70vMGekciPlgrs2RE4InlFihTEGP0pBydF6T40riKBnj/FkfMaDeSe00jH6L/pYmOuDECM4ZWQxDpHPfQdQCGCnJMAeM63FkERgHCEISZTFFAlMDuwdnDXYgfuNYgKLySGUnU2972QVvNVf0osCH4KnTzxCt3rC36ryDYx3i5i9Ygp5lwatNdQ2DmETfRFT75xUt3AyrbW44k4P8ZvsfBAiqUOEHC1yMLjZoiaLGOhoiILopZnRx8h7f/R7/gOgxp/HPs+HagAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 11\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/7b1dc/003-11.png\"\n        srcset=\"/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/8ff5a/003-11.png 240w,\n/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/e85cb/003-11.png 480w,\n/devHistoryBlog/static/aec804f2711a670a547440659818a3ef/7b1dc/003-11.png 956w\"\n        sizes=\"(max-width: 956px) 100vw, 956px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>##2-1. @Mapper 사용</h4>\n<ul>\n<li>매핑 정책(Policy)과 전략(Strategy)를 설정할 수 있다.  </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>정책</th>\n<th>값</th>\n<th>설명</th>\n<th>예시</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>unmappedSourcePolicy</td>\n<td>IGNORE(default), WARN, ERROR</td>\n<td>Source의 필드가 Target에 매핑되지 않을 때 정책이다.</td>\n<td>ERROR로 설정하면 매핑 시 Source.aField가 사용되지 않는다면 컴파일 오류가 발생시킨다.</td>\n</tr>\n<tr>\n<td>unmappedTargetPolicy</td>\n<td>IGNORE, WARN(default), ERROR</td>\n<td>Target의 필드가 매핑되지 않을 때 정책이다.</td>\n<td>ERROR로 설정하면 매핑 시 Target.aField에 값이 매핑되지 않는다면 컴파일 오류가 발생시킨다.</td>\n</tr>\n<tr>\n<td>typeConversionPolicy</td>\n<td>IGNORE(default), WARN, ERROR</td>\n<td>타입 변환 시 유실이 발생할 수 있을 때 정책이다.</td>\n<td>ERROR로 설정하면 long에서 int로 값을 넘길 때 값에 유실이 발생할 수 있다. 이런 경우에 컴파일 오류를 발생시킨다.</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th>전략</th>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>nullValueMappingStrategy</td>\n<td>RETURN<em>NULL(default), RETURN</em>DEFAULT</td>\n<td>Source가 null일 때 정책이다.</td>\n</tr>\n<tr>\n<td>nullValuePropertyMappingStrategy</td>\n<td>SET<em>TO</em>NULL(default), SET<em>TO</em>DEFAULT, IGNORE</td>\n<td>Source의 필드가 null일 때 정책이다.</td>\n</tr>\n</tbody>\n</table>\n<h4>##2-2. INSTANCE 생성</h4>\n<ul>\n<li>빌드 시점에 CouponMapper 를 상속받은 CouponMapperImpl(구현체) 클래스가 생성된다.</li>\n<li>따라서 이 구현체를 사용할 수 있는 객체를 생성한다.</li>\n</ul>\n<br>\n<h3>#3. Mapper 사용</h3>\n<h4>#3-1. Dto to Entity 또는 Entity to Dto 선언부 생성</h4>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/5bf79/003-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 8.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdElEQVQI1yXOURLDIAgE0NxHZyrRiLLYNNPe/0pbmn4wfABv2R6lUCfYe6dr4Xs1vlB5QQjdOc1oAIcqVQfNn2xHpw7jhLPWypQSc853bUX2e2BYcdS5HEQAPv7oicbLD34iCKYBnjc4Y18jROIhEWGJ/sO/mE9BjaqO7VwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 12\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/d9199/003-12.png\"\n        srcset=\"/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/8ff5a/003-12.png 240w,\n/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/e85cb/003-12.png 480w,\n/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/d9199/003-12.png 960w,\n/devHistoryBlog/static/e12d18b9ab88729fb7fee6f030ace81a/5bf79/003-12.png 966w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>#3-2. @Getter, @Builder 설정</h4>\n<ul>\n<li>변환과정에서 꺼내오는 객체(source)에는 Getter가 있어야 하고, 변환해서 저장하고자 하는 객체(target)에는 Builder 혹은 Setter가 있어야 하는데 Setter는 지양한다.  </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/9d576/003-13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 541px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 16.249999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAlUlEQVQI122OSw7DMAhEc5wGfxrHYGOniaze/05TnG666OJpBhADS5aKlAVbyuBM6I2QTdfV/TDrh7GCiG79x5wtXBSJBc+N0SxsDMJxEKoSpBiyotQE1cu8IsSIuSNVrd/AUlBzh3JH2vZv4M7l/lIS4V0d6u5wikPLDmr+xd4OdBznQOsXzqH2QEQIk4DgI6J57wM+G0xeZtlSeYoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 13\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/9d576/003-13.png\"\n        srcset=\"/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/8ff5a/003-13.png 240w,\n/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/e85cb/003-13.png 480w,\n/devHistoryBlog/static/bb9e9e4e6fcc0f2a3d120848bf434620/9d576/003-13.png 541w\"\n        sizes=\"(max-width: 541px) 100vw, 541px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/ca12d/003-14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 647px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 131.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAACsUlEQVRIx51V2XarMAzM5+B9BbOn6f//k+7IJDRp0pbcBx1zsD1oNNJwSm0hH1saR0PjIMkYRUJIklIheBXX9edQSu3r6QY4z4bWRVIIkrRWAGZwjbD1oNb8bEgjjLY1LPa00jvYA+CyGjqfBTKVNfq+oWmeaJouVPqRyjDSMM40TAuV3NGEe20qFfQJMODAXCytBUBJ0dQpXBxoXlfqhkwhJvIhkPeIEMmhLNGCrvqBcuSIgdZppJwSaDBFu1G2qGlzV0chan2FVHtWTxkyoLWO+mgo+VjrdS/G7fCr+L7/BegMxdCQdwIb4uHgX6BPgCFDmODocskQJFIOG+3v9TkMyBkai/bQHmtA0R02X/fZsQy5dYKlj6WhsRfkHPcb95p5AJPvZGiRYeclQlNMmXLbgXpGtvb/KFtnKWWJTGWlK9AeQm5RqfOFA6rvgN5bumBClqKQpaLgAqXQUhuxj+e3angTxehtjrXiy7rOKYdBX24ivdU2lj5XZDgoNDcyhDnwnFoovql9rCcfREmYz4RR42gdnMd6UI814yPZPQA61DBnQSlJaltMC+g3LMx1dpWSh+p4pzJmeSiwrBEuA5PIGdRbtE67Tc3T5dfgpwjrCldAC5rsLrda3RxbiBfBjvPtHZ8/ZYCV5RPCRDqPgoYOYlhd3cd5X/0vRHggPlif2Q/ZFyGav76L8Et+zzqcctdTP6/IzFFBhn1g18k4lKkfJ0xNquEBzkYbq9nG2gWhvkNpclvPMMvdsRVahJUdEmqZ53ppXlbUT1DTNFdazQ+Umy/KDJi6Us2Abb1DP7IYHF0aQCsQl6UrYIJ/Sgy/T82uMgM6tIqH7Tv0Hze1x7/DaHW4B3fAW4YBCgcIws1srhlbfET88V++j1MBlYiirh+bAFVdt4V1HquvglTFD8Q/joQgDuNFKycAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 14\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/ca12d/003-14.png\"\n        srcset=\"/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/8ff5a/003-14.png 240w,\n/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/e85cb/003-14.png 480w,\n/devHistoryBlog/static/77b064f1f1b366f0858f879197b871f0/ca12d/003-14.png 647w\"\n        sizes=\"(max-width: 647px) 100vw, 647px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/977f7/003-15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 547px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 22.083333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoUlEQVQY042PQQ7DIAwE85xiSAghYBwS1P9/ausCvfcwWstoR3iJiXGcGZvfwWwgQgiBQGRhLU3s3yxnLl3o1h3tMWiNUMoQGmNnkmJ0/jJn5bczk+/b0n+o0i0k3PWF5yHUOqTMhJyNEiClaYpe4pFZkDKDy4WkfY4CSRW7XjmEJ6sw4oqEliz4sCOD7TuOXssVd3uD5YLXonPrxHXWOX8A/TF81gfBs/sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"003 15\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/977f7/003-15.png\"\n        srcset=\"/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/8ff5a/003-15.png 240w,\n/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/e85cb/003-15.png 480w,\n/devHistoryBlog/static/ed749df7538d664edec5d824a180da2d/977f7/003-15.png 547w\"\n        sizes=\"(max-width: 547px) 100vw, 547px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<h5>201203 수정사항</h5>\n<ul>\n<li>Dto 클래스 내 Mapper 호출 메소드 명 변경<br>\n—> createReqToEntity() -> toEntity()<br>\n—> entityToCreateRes() -> of()  </li>\n<li>Response Dto 클래스 내 Validation 제거<br>\n— res Dto 클래스 serialize 전 validation 로직 없음  </li>\n<li>MethodArgumentNotValidException 이미지 추가</li>\n</ul>","fields":{"tagSlugs":["/tags/dto/"],"slug":"/history/posts/2020-11-10--003"},"frontmatter":{"title":"[Code Convention] DTO Class","tags":["dto"],"date":"2020-11-10","description":""}}},"pageContext":{"slug":"/history/posts/2020-11-10--003"}},"staticQueryHashes":[]}
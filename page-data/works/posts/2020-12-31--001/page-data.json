{"componentChunkName":"component---src-templates-post-template-jsx","path":"/works/posts/2020-12-31--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"EY's 개발 히스토리 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"71aa5fbd-e347-5004-8cf8-b06bcbd6dfca","html":"<h3>#1. JPS</h3>\n<ul>\n<li>Java Virtual Machine Process Status Tool</li>\n<li>JVM 프로세스 표시</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">// PID, 메인 메소드의 args 표시\n$ jps -m \n\n// PID, jvm 파라미터 표시\n$ jps -v</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/606d55ea709aec7b00e1db5f9a698485/3f8cf/001-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 16.249999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAjUlEQVQI12WOWRKDIBBEvU1iIosRXFBxAfH+J2qZSfzKR9frqZl6ULjRYllHhOgRjxV78Jj9gMGZHAvaux9ppvSDQWMUjFVM/akyJerMQsgn/OJYdqQtC2eWpnPnOcSFezq/nXbj1EHXb0hVQukX8w4L6WDdJj6m0I+J9Mjdu76BbTXarmaJkCUq8fjLBV2AYzo6AiOaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/606d55ea709aec7b00e1db5f9a698485/d9199/001-01.png\"\n        srcset=\"/devHistoryBlog/static/606d55ea709aec7b00e1db5f9a698485/8ff5a/001-01.png 240w,\n/devHistoryBlog/static/606d55ea709aec7b00e1db5f9a698485/e85cb/001-01.png 480w,\n/devHistoryBlog/static/606d55ea709aec7b00e1db5f9a698485/d9199/001-01.png 960w,\n/devHistoryBlog/static/606d55ea709aec7b00e1db5f9a698485/3f8cf/001-01.png 1293w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br>\n<h3>#2. JMAP</h3>\n<ul>\n<li>JVM 프로세스의 메모리 맵 표시</li>\n</ul>\n<h4>#2.1. heap 메모리 사용 현황에 대한 요약 정보</h4>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">$jmap -heap &lt;PID&gt;</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/e3ebc5805eef55d29ea1f806757ca33f/68e9c/001-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 654px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 145.83333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAABJ0AAASdAHeZh94AAAC/0lEQVRIx5WWUXqiQBCEOcxuNlFBUAEBFRFQ0Zj732a2/yYzn+siSR5GiIGaqurqHr2siE25z812tzbrbGnS9dJk+UpXsUn1+12Zm822v+ZFIt8n8tzCXfV5wUmS0Hinc2Nut84cT5Wsgzmfa3Ood+Zw2Jpz1yiI3YCX5+HEBPO3weUHr8Yr94W+xNpXhTLaVxtTyQrDqZnOXszb5JeZTH/r/cz/M7q8WGgmaaRy9T6J5Bopm2gx07VcBY7BV8uDWSXyyhIfc/UThsiG8RpPs5VKhcGXgKs4NKt4LizsCvTlMJrq1cqdDbw8tIFHVbuuNdfr0XSX1tw+OpUPCA9wPxe51j+u9n4I1Jv5ryqvaUqVSxQWS9+ZvN1lUrBMfe79Xpg8j1XBIENkXS49O9jcV4wHNpLFd4nVRRS0x8pc3k8Sp/q55GA+MSfJXnvcKzPk3D9AkAGrP4vUtJVkdOMs+U8ycdAgy8JPpFifeIAIPeZv1EMYHk+1dkUn0vERplSbDBIrOoig4ycRs/Y8qnEMG/GGovAS0rbSt6mYD2gmBWBDQJp2r0oo0rNcenzQfjWABFwYAmQ9orqWGcwt0FPJxKSfLIkL832bPfp2DzDIEI+Qgk+5jKC1tNlyGfzDwBZJO+YJMwcYiQzydVBJgUjfOZ+ISNOWWmmGBps9C7QDZGc8oqJ4dBRwNsBXhgT5bIW9zkcpTJzMB6vrAGknAK7XkwPBBqY1FjwO1DG5vWRh1oP0LOkM/iYujK2hITrqIf/AM6KCh8SDVrTnh//NseUAAVLPBIC5aKPD4n++snr91rRWQADwbrNNnWR7MNFefvBDQOjTWhyBVJmOeb+dVTotGPxUMjL7ky/TyiLTvtBPHnvajU9qB9iHudRAA9hK11SfVUY+xypWhFF/AhKdUYZ80HpIjha+4eC/ylRm+hzqUqZ5qwOWwN8+LjKFIhfswV7mS1rL9nGhPzVSZYgdvr7Uh/p+0oxMm1QrzLTRa5Ho75j+50esG+kzn5tQebx9xvAv5Tib98XputsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/e3ebc5805eef55d29ea1f806757ca33f/68e9c/001-02.png\"\n        srcset=\"/devHistoryBlog/static/e3ebc5805eef55d29ea1f806757ca33f/8ff5a/001-02.png 240w,\n/devHistoryBlog/static/e3ebc5805eef55d29ea1f806757ca33f/e85cb/001-02.png 480w,\n/devHistoryBlog/static/e3ebc5805eef55d29ea1f806757ca33f/68e9c/001-02.png 654w\"\n        sizes=\"(max-width: 654px) 100vw, 654px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h4>#2.2. 객체 타입 별 사용 내역</h4>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">$jmap -histo:live &lt;PID&gt;</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/679ddd85c15c253c61840fa681e2e7a0/ddc81/001-03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 837px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABNElEQVQoz11S2XKEMAzjX9ptu9wBwhVu2Ov/P0i13MkO0wdNDjuyZCfoeothbNE7i6YtFLY2cteg6yu4ocEoce6btkTbVagbIygUzG1krWyG3EQIyipFloewkkRyI5dx8q17W+dg3NocUfyFa/gh+EQYXRR+zxjBd4EpYmXmxXFbtHqaXXF/bJjmXonbrtTVDTXGqVU1RZloMYL5SfqjCBjITYhYDrf7qskMkHBZnWDAccxajKTMZw6tshBBQqpTQqOEfzb52BM+X4cSTrPDug3Y9gmrxOfFKQnz1Xp8eZOpZVb0fdv2UQhzDT6eu5B1OiwS9K4W4lEHxJ57ix5vhZROhWwwVXAQ3NMi1XDKtMp+8uzdnInO54CV+SXKKsMmCqiIbdilb7S4LE6Vchj+65wV/ccvy3AAUsUrp+MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 03\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/679ddd85c15c253c61840fa681e2e7a0/ddc81/001-03.png\"\n        srcset=\"/devHistoryBlog/static/679ddd85c15c253c61840fa681e2e7a0/8ff5a/001-03.png 240w,\n/devHistoryBlog/static/679ddd85c15c253c61840fa681e2e7a0/e85cb/001-03.png 480w,\n/devHistoryBlog/static/679ddd85c15c253c61840fa681e2e7a0/ddc81/001-03.png 837w\"\n        sizes=\"(max-width: 837px) 100vw, 837px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h5>참고) [C, [I, [B 이란?</h5>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/2e6fbdc0096ef686e2a9338f1f0eef4a/3a737/001-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 897px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 72.08333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAABcElEQVQ4y41S7ZKDMAj0/Z+yv6rxI9FojFojx6KxqfVujhkGEsKyEDJjDLVtS60dSGtDRVGQtZa2baOwrrSugXUVfb1eHxrv8BaCc2aMpkIpqquKyrKiuq6pYh+KYopjKOj9SM45Gobh1HEcRaOEECizXScgWmtqmkbs9QxggH0D7ncAdW6gaZoo67pW2CC5LEsBiAyhAAcg/FKV0oVShYzHe38WAhjaz7r2DRjbBXD06wNY63c8dgAbGYawySyZ4dFyc00wUqQ5Wt/18DkeCaBDYPR9T8vCDBHAz4JVnhfyCc/nk+8Un3PRPZZLMVjFMcOdgaXM+LDzPFO2LIvQro+qWBnPLcAHgHOjPPR+EjtPu70T+WU4jn/s8XiQZdoYLqRnYIDGHbsK7lM99xDOdZ9iAh7cJd/pByB2CrPDcLHECOyf1ZztpYl3bL8YYqghScJOXcH+DYgZ4mPSIAYM0PTuN7llaG3/FUwB/8JMc34AvpI9xxOaLKYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 04\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/2e6fbdc0096ef686e2a9338f1f0eef4a/3a737/001-04.png\"\n        srcset=\"/devHistoryBlog/static/2e6fbdc0096ef686e2a9338f1f0eef4a/8ff5a/001-04.png 240w,\n/devHistoryBlog/static/2e6fbdc0096ef686e2a9338f1f0eef4a/e85cb/001-04.png 480w,\n/devHistoryBlog/static/2e6fbdc0096ef686e2a9338f1f0eef4a/3a737/001-04.png 897w\"\n        sizes=\"(max-width: 897px) 100vw, 897px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>[L 은 class 또는 interface 즉, any non-primitives(Object)</li>\n</ul>\n<h4>#2.3. gc 대기중인 클래스 목록 확인</h4>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">$jmap -finalizerinfo &lt;PID&gt;</code></pre></div>\n<h4>#2.4. 덤프 파일 생성</h4>\n<ul>\n<li>파일 확장자는 일반적으로 .hprof 를 사용</li>\n<li>\n<p>힙 메모리의 크기가 GB 단위로 크다면, 분석할 덤프 파일 크기도 GB 단위로 늘어남</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">jmap -dump:[live,]format=b,file=&lt;dump filename&gt; &lt;PID&gt;</code></pre></div>\n</li>\n</ul>\n<br>\n<h3>#3. JHAT</h3>\n<ul>\n<li>Java Heap Analyzer Tool</li>\n<li>힙 메모리 분석 툴</li>\n<li>\n<p>입력한 포트(기본은 7000)로 덤프파일이 분석된 웹페이지가 구동</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre class=\"language-cmd\"><code class=\"language-cmd\">$ jhat [-port] &lt;dump filename&gt;</code></pre></div>\n</li>\n</ul>","fields":{"tagSlugs":["/tags/jvm/","/tags/analyzer/"],"slug":"/works/posts/2020-12-31--001"},"frontmatter":{"title":"JVM 분석 툴","tags":["jvm","analyzer"],"date":"2020-12-31","description":""}}},"pageContext":{"slug":"/works/posts/2020-12-31--001"}},"staticQueryHashes":[]}
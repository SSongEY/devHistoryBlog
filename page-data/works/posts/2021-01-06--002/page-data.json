{"componentChunkName":"component---src-templates-post-template-jsx","path":"/works/posts/2021-01-06--002","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"EY's 개발 히스토리 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"42ec5ea7-3df6-596d-b311-3de6354b4340","html":"<h3>#. 작업 구성</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/6d12ea3a3581d40219bf4223a9aa4bd3/80d71/002-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 625px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 72.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAABvUlEQVQ4y41TDW+DIBDt//+FW5OuS5tZrS1+oAgC3u6d4nTNkpFc4ODxePfBgTZjHEfq+55ijOveNE1iGNgvioJutxsppSjPc/ExO+cEcwDYey+XLpcLHY9HOcTlEMJKmmYQZVlGVVUJGdYwY8xMCDJchG2VwIdi739IxxEPhZ3qdAYe3BPC+aIna62EDIXwTd9R9vVFx/c3+jidqGk1hTjxuRWFUKu1FmyK6pAcvFIzKOUjBt5vFU2Dpk7dyfcNeZWRqwpiTno+n4Jt21bu7giTwriEMofL+yEyMYfoBoqmJdeUNJpOzs7nM51YNUgxXgjbuib1eMis64bsMJDTFcW+pvz6yUoaitIJM94OhgYzpwc+bEdY3e9UXq+k0BJspmMl1syql+R7xk1TFH9yfGb75WyOaiXcVmw7/AJafcZ6z+nhVAQmDJxXFCmJ2ilMeZQ2SntLXg2HH0DChpCBQXU1FwQhQ91LDtGYZVmKoSUCK7Fc5cA5rPKrVNxzUZxW8ghw+DEDPwaiF0IYNtFja6Ld3MhryNzY4/LFoAqtk9ZryCnU9Fu25hZQyvG4ND9UYf5tQpi+2V+2Ldh/sN8hnkU7tvSrdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"002 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/6d12ea3a3581d40219bf4223a9aa4bd3/80d71/002-01.png\"\n        srcset=\"/devHistoryBlog/static/6d12ea3a3581d40219bf4223a9aa4bd3/8ff5a/002-01.png 240w,\n/devHistoryBlog/static/6d12ea3a3581d40219bf4223a9aa4bd3/e85cb/002-01.png 480w,\n/devHistoryBlog/static/6d12ea3a3581d40219bf4223a9aa4bd3/80d71/002-01.png 625w\"\n        sizes=\"(max-width: 625px) 100vw, 625px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>작업 내용</h3>\n<ul>\n<li><a href=\"https://github.com/eunyoung-autocrypt/docker-practice.git\">git repository 이동</a> </li>\n</ul>\n<h4>#1. WAS Dockerfile</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">FROM openjdk:8-jdk\n\n# 환경 변수 및 작업 경로 설정\nENV WCA_LIB /usr/local/wca_libs\nENV CATALINA_HOME /usr/local/tomcat\nENV PATH $WCA_LIB:$CATALINA_HOME/bin:$PATH\nENV LD_LIBRARY_PATH $WCA_LIB:$LD_LIBRARY\n\nCOPY docker/lib/lib.tar.gz $WCA_LIB/\nRUN tar -zxf $WCA_LIB/lib.tar.gz -C $WCA_LIB/\nRUN mkdir -p \"$CATALINA_HOME\"\nWORKDIR ${CATALINA_HOME}\n\n# 패키지 설치 wget은 톰캣 설치 파일 다운로드 위한\nRUN apt-get update;\nRUN apt-get install -y --no-install-recommends\nRUN apt-get install -y gnupg dirmngr\nRUN apt-get install -y wget ca-certificates\n\n# 톰캣 바이너리 다운로드 및 압축해제\nENV TOMCAT_VERSION 8.5.61\nRUN wget http://apache.mirror.cdnetworks.com/tomcat/tomcat-8/v${TOMCAT_VERSION}/bin/apache-tomcat-${TOMCAT_VERSION}.tar.gz;\nRUN tar -xf apache-tomcat-$TOMCAT_VERSION.tar.gz  --strip-components=1;\n\n# 불필요 파일 삭제 후 webapps 디렉토리 새로 생성\nRUN find . -name \"*.bat\" -exec rm -rf {} \\;\nRUN rm -rf *tomcat*.tar.gz;\nRUN mv webapps webapps.org\nRUN mkdir webapps\n\n# war 파일 복사\nCOPY build/libs/ROOT.war $CATALINA_HOME/webapps\n\n# tomcat conf 파일 복사\nCOPY docker/tomcat-conf/* $CATALINA_HOME/conf/\n\n# 컨테이너에서 사용할 포트 (서비스 포트, remote debugging 포트)\nEXPOSE 8080 5000\n\n# debugging 모드 시 필요 환경 변수\nENV JPDA_ADDRESS=5000\nENV JPDA_TRANSPORT=dt_socket\n\n# 설정 완료 후 실행\n#CMD [\"catalina.sh\", \"run\"]\nCMD [\"catalina.sh\", \"jpda\", \"run\"]</code></pre></div>\n<br>\n<h4>2. DB Dockerfile</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">FROM mysql:5.7.32\n#FROM mariadb:10.4.10\n\n# my.cnf 파일 복사\nADD ./mysql-conf/my.cnf /etc/mysql/conf.d/my.cnf</code></pre></div>\n<br>\n<h4>3. docker-compose.yml</h4>\n<p><a href=\"/devHistoryBlog/history/posts/2021-01-06--001\">Docker-Compose 내용 정리</a> </p>\n<br>\n<h4>4. IntelliJ 원격 디버깅 설정</h4>\n<p><a href=\"/devHistoryBlog/works/posts/2020-12-29--001\">IntelliJ 설정 확인</a></p>","fields":{"tagSlugs":["/tags/docker/"],"slug":"/works/posts/2021-01-06--002"},"frontmatter":{"title":"Docker 기반 Remote Debugging 개발 환경 설정","tags":["docker"],"date":"2021-01-06","description":""}}},"pageContext":{"slug":"/works/posts/2021-01-06--002"}},"staticQueryHashes":[]}
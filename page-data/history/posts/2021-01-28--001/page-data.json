{"componentChunkName":"component---src-templates-post-template-jsx","path":"/history/posts/2021-01-28--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"EY's 개발 히스토리 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"54a757f4-552b-5589-a40b-3ad4e0930cde","html":"<p><span class=\"title__sub1\">@Entity</span></p>\n<ul>\n<li>JPA는 내부적으로 replication 등을 쓰기 때문에 동적으로 생성할 수 있어야 한다.</li>\n<li>따라서 기본 생성자가 필요하다. (public 또는 protected)</li>\n</ul>\n<p><span class=\"title__sub1\"> 데이터베이스 스키마 자동 생성</span></p>\n<ul>\n<li>DDL을 애플리케이션 실행 시점에 자동 생성</li>\n<li>데이터베이스 방언을 활용해서 데이터베이스에 맞는 적절한 DDL 생성</li>\n<li>운영 장비에는 절대 create, create-drop, update 사용하면 안됨.</li>\n<li>\n<p>스테이징과 운영 서버는 validate 또는 none 사용</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">hibernate.hbm2ddl.auto=create</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/8bafaeaffae4ad205fd8c890ee4ef0e2/f6b72/001-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 615px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABd0lEQVQoz11Si5KDIAzk/7+w0zl7bX2giKD4rm1z2SidzjETlWST3RVUVVWktabn80lYXdtSmt7pertRURRSQ9R1TdbaT+5yuUgudB1df38pzTLZK+ccNU0jAxHjOFAIHXXdHn3f0zAMNM8z18ZPvmXiaZpoXVdyrqGGAzmFB8LzYCgA2DIT2EDUtp5AGlUaU1FtDJXszPA7Y2XjOFFcyhwFa2tpwvA4zDnPCoOQNI0jzzXgvjEQAfWv10scqmhj2zZ6v9/Uei8EAHvvqKp2sl2dEZvuGOQZi/zj8ZBhmKFwAAn/YAzGQFjP81ya0QhLZaklh+8QetnDDUiR37b9QKFSgRHDIBtMOIQ9BjmMPgSp75hJHKAe+4AJjIG6Q2FK5/NZLGDhGmWc07oUFUmSiDI4KYpc9je+UshpXdD9znnGwR1CRf+QuyyLME/TLIrXdRHVAKKOiI2xJ9aAQyhcSlPbz7HjR59Op0PdD+V8kbHQ+P2O6//+D1KG+vIFCLW7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 01\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/8bafaeaffae4ad205fd8c890ee4ef0e2/f6b72/001-01.png\"\n        srcset=\"/devHistoryBlog/static/8bafaeaffae4ad205fd8c890ee4ef0e2/8ff5a/001-01.png 240w,\n/devHistoryBlog/static/8bafaeaffae4ad205fd8c890ee4ef0e2/e85cb/001-01.png 480w,\n/devHistoryBlog/static/8bafaeaffae4ad205fd8c890ee4ef0e2/f6b72/001-01.png 615w\"\n        sizes=\"(max-width: 615px) 100vw, 615px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n</ul>\n<p><span class=\"title__sub1\"> 매핑 어노테이션 정리</span></p>\n<ul>\n<li>Date 클래스 사용시 만 @Temporal 사용, </li>\n<li>LocalData, LocalDateTime을 사용할때는 생략</li>\n<li>@Transient 는 주로 메모리상에서만 임시로 보관하고 싶을 때 사용\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/45f929eac456dc1de9fca946ff0503e6/17602/001-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 597px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 52.083333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABOklEQVQoz5VS2W6DQAzk/z+wkSDhCISlhCMEAss59bjioVJV0pWsXXt9jMd2oiiCyTJkxmAYLHjCwEcQhAjCENaO+M9xuq5D27bouhbTNGOeZzweD7xeL/BvXVd1pP0dcYxJcS8KFCJlWamRaNM0VVuSJDAmw7ZtWJZFC/wlDoPzPFepqlqD+K7rWpFWZak3E76F0Pd9ZMIhkYTCWRzHaJoGg7VKBRMXxV0o6DXpIUIrgXYYlC9K3/dIbzcp8ikUFFrsJjrtPIcJiWKQhDs/hP18PnUotLMg3/ug+D9N06+iLV+vVyV9nybbSqTtWOwcChGSBvo1UuhwbYhiHMcfQoS0s02iIkrq+yrx3t+7Tl+idPzLBVzu89lTpN+LHciARMTO+yI+nufp0FzXFT+jMafTBzhU6uyEtH0Bfo0CjUBWfTMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 02\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/45f929eac456dc1de9fca946ff0503e6/17602/001-02.png\"\n        srcset=\"/devHistoryBlog/static/45f929eac456dc1de9fca946ff0503e6/8ff5a/001-02.png 240w,\n/devHistoryBlog/static/45f929eac456dc1de9fca946ff0503e6/e85cb/001-02.png 480w,\n/devHistoryBlog/static/45f929eac456dc1de9fca946ff0503e6/17602/001-02.png 597w\"\n        sizes=\"(max-width: 597px) 100vw, 597px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<p><span class=\"title__sub1\"> 기본 키 매핑</span>\n<span class=\"title__sub2\"> 기본 키 매핑 어노테이션 </span></p>\n<ul>\n<li>@Id </li>\n<li>@GeneratedValue (전략은 AUTO가 기본)</li>\n</ul>\n<p><span class=\"title__sub2\"> 전략 종류 </span></p>\n<ul>\n<li>IDENTITY : 데이터베이스에 위임, MYSQL  </li>\n<li>SEQUENCE : 데이터베이스 시퀀스 오브젝트 사용, ORACLE<br>\n— @SequenceGenerator 필요</li>\n<li>TABLE : 키 생성용 테이블 사용, 모든 DB에서 사용, 잘 사용하지 않음<br>\n— @TableGenerator 필요</li>\n<li>AUTO : 방언에 따라 자동 지정, 기본 값</li>\n</ul>\n<p><span class=\"title__sub3\"> IDENTITY 전략 특징 </span></p>\n<ul>\n<li>주로 MySQL, PostgreSQL, SQL Server, DB2에서 사용 (auto_increment)\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/c9462d753e49bf719891215f260515da/b04e4/001-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 888px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 24.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA00lEQVQY05WP207DMBBE8zGI2utLfInjS9KEUJAQ4v9/Z1i3CCr1iYcjj2blndnh6zNiXwll1hgNwVoN5x3saKGNhtL0L4b3NaA4gWAJ1UvM0WHZXzGXCmMthDxBUkf8cK/vvZs/WBcQk0CpEieSIN0HT8wzJypean6baqOu+u+9+aZr3VEYvI9YeNnHRWFrhONlxHF4nFePpS1obcO2vyHGCdOcObghc/tOXc9IKaOlFTlWTCHxwuDhtED2hOwkfwxIuSBwc8uJgk8hJa88nioe/G/IXZredRTMIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 04\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/c9462d753e49bf719891215f260515da/b04e4/001-04.png\"\n        srcset=\"/devHistoryBlog/static/c9462d753e49bf719891215f260515da/8ff5a/001-04.png 240w,\n/devHistoryBlog/static/c9462d753e49bf719891215f260515da/e85cb/001-04.png 480w,\n/devHistoryBlog/static/c9462d753e49bf719891215f260515da/b04e4/001-04.png 888w\"\n        sizes=\"(max-width: 888px) 100vw, 888px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<p><span class=\"title__sub3\"> SEQUENCE 전략 특징 </span></p>\n<ul>\n<li>주로 Oracle, PostgreSQL, DB2, H2 에서 사용 (auto_increment)</li>\n<li>INSERT SQL 실행 후에 id 값을 알 수 있으므로 <span class=\"text-mark__red\">해당 전략에서는 persist(add) 시점에 즉시 SQL이 수행</span>\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/de9bd811bec00e9fc75ed4ca8edf2692/6acbf/001-05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABRUlEQVQoz1WR226DMBBE+ZgGfAFfwWBugSZNKrVV1Er9/0+ZLiZ94GE0sIbZPevs7SpwngVix+F9Dl8XcJ5DlCTJwQVLnkQ1xouDtvPd9/fMGAmlGPo+4vH4wThGXO4r4hThgkE7+aQwOmqkoLWGtQbaqORKVVRTUHr3TJUSUnA0dcD99oX7+zc+Pn8peIWxGsM8Yl5eMZ8Xqi0YhhltR8283wO1Ogb2TsArAVsJBC1Qhy6prErwDYsVkFJCUFNZioRYsJzwcuTshZ5PR2TGBaZJEDInDEZdT+R5ms75OmkLN85SnVBpKutcQnfGw1uPkij/d50JIQlXogsUGg1utwXXy4x5WtHFEct1RegbdLTbSBrOPcZlQEc7r21A7RpUh0C547aa9khTtf2M0ERY2kdBWFwScrXdMv1QPiV3bdjpm2fY5n+OP9u1U4d3owAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 05\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/de9bd811bec00e9fc75ed4ca8edf2692/d9199/001-05.png\"\n        srcset=\"/devHistoryBlog/static/de9bd811bec00e9fc75ed4ca8edf2692/8ff5a/001-05.png 240w,\n/devHistoryBlog/static/de9bd811bec00e9fc75ed4ca8edf2692/e85cb/001-05.png 480w,\n/devHistoryBlog/static/de9bd811bec00e9fc75ed4ca8edf2692/d9199/001-05.png 960w,\n/devHistoryBlog/static/de9bd811bec00e9fc75ed4ca8edf2692/6acbf/001-05.png 1001w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<p><span class=\"title__sub1\"> 연관관계 매핑</span>\n<span class=\"title__sub2\"> 1) 단방향 연관관계 </span>\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/89701b59782fe88fa50841f4d6a9d476/6fcb6/001-06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAsElEQVQI1zWOOQ6FMAxEuf+ZqKAAKiRIAUrBInaxJEFsYpmfWPpuxpqxn23N8wwhBNZ1RVVVKMsSRVFg2zbs+/6ZTKs8zzM2fd/3r8mGYUBd12iaxnjQOaZpgpUkCYGklAS9rovUDHPOvyzL0LatjKIodl0Xtm2/jDEsy4LneXAcB4HCMITjOLCCIKBr4zgS7F9KKeR5/hnVy9L3/VjD4Hneq310XUdf3fdN0DRN6dsf0ofdmHFgkQEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 06\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/89701b59782fe88fa50841f4d6a9d476/d9199/001-06.png\"\n        srcset=\"/devHistoryBlog/static/89701b59782fe88fa50841f4d6a9d476/8ff5a/001-06.png 240w,\n/devHistoryBlog/static/89701b59782fe88fa50841f4d6a9d476/e85cb/001-06.png 480w,\n/devHistoryBlog/static/89701b59782fe88fa50841f4d6a9d476/d9199/001-06.png 960w,\n/devHistoryBlog/static/89701b59782fe88fa50841f4d6a9d476/07a9c/001-06.png 1440w,\n/devHistoryBlog/static/89701b59782fe88fa50841f4d6a9d476/6fcb6/001-06.png 1523w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Member 와 Team 의 관계는 n:1</li>\n<li><span class=\"text-mark__red\">Member(n)에 Team(1)에 대한 FK가 들어간다.</span></li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/82c81a0e165f16fcc110de4070cea69d/27e9a/001-07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABS0lEQVQoz5VSSW7DMBDzo5polyzJlvekRZKiCVCgQNH/P4EdKUiBnuwcaF1maA7JKnqOy5FjTAJec3hnEZoOxjgIKcE5hxBiMyolBYIVcIToOGor0bQe3htIInwMbiWu8mAXBd5GjsMkMc0B82jRtZmAgTH+R7aFlAjp1FqgDQwxOKR+gdYO2mrU0cJ5W5Q+pbAnhaeBYe5rzPMBKfXoU4dAP1BG/vNyjbjKH68FxqDQOglPHqZIoSgFKWRRJ5/x0FGqXCiEmBAbQmxJWSgYhqG8xmia4ZsCIoUSNidMCoO/Q5E6QQT5zaHs9/dwGGOrp1cvO45l4fj5ZrhdGb4+d5go5Wk+wYcIQ+HEjmrUONShXle4Z+QfhXJdJN6pOsuccPm44Px6w3E8kocctjYwThfyVcJcG03l1iIjD1IYihZpSUlVlksXH1g5+RcMPHbuQB2+0AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 07\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/82c81a0e165f16fcc110de4070cea69d/d9199/001-07.png\"\n        srcset=\"/devHistoryBlog/static/82c81a0e165f16fcc110de4070cea69d/8ff5a/001-07.png 240w,\n/devHistoryBlog/static/82c81a0e165f16fcc110de4070cea69d/e85cb/001-07.png 480w,\n/devHistoryBlog/static/82c81a0e165f16fcc110de4070cea69d/d9199/001-07.png 960w,\n/devHistoryBlog/static/82c81a0e165f16fcc110de4070cea69d/27e9a/001-07.png 1253w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br/>\n<p><span class=\"title__sub2\"> 2) 양방향 연관관계와 연관관계의 주인 </span></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/82994e919072969ac58ce85f26bb482e/d4b10/001-08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 14.583333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAsklEQVQI1z1PuQqEUBDz/39nKxvtHiyCooWdR+HxvI/nBSuTnRF2B1JMkkkY6zgOmueZpmmiPM+prmuqqorKsqR1XT/LsmDfd3Vdl+r7Hk3T3MYYaK3/kL3rOojX4hDEcYxhGCAH53mCj9G2LUQrigJc9vZ9X9m2Ddd1b+GZe7wCz/PgOA7CMIQVBIHmQD2Oo+YGDeDBtm2aQyrWTJZlryRJVBRFSNP0/hUTEWSkXDj+FF/7f9wD2xglIAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 08\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/82994e919072969ac58ce85f26bb482e/d9199/001-08.png\"\n        srcset=\"/devHistoryBlog/static/82994e919072969ac58ce85f26bb482e/8ff5a/001-08.png 240w,\n/devHistoryBlog/static/82994e919072969ac58ce85f26bb482e/e85cb/001-08.png 480w,\n/devHistoryBlog/static/82994e919072969ac58ce85f26bb482e/d9199/001-08.png 960w,\n/devHistoryBlog/static/82994e919072969ac58ce85f26bb482e/d4b10/001-08.png 1394w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n     </p>\n<ul>\n<li>연관관계의 주인은 외래키의 위치를 기준으로 정해야함</li>\n<li>주인이 아닌쪽은 읽기 전용</li>\n<li>주인이 아니면 mappedBy 속성으로 주인 지정</li>\n<li>여기서는 Member.team 이 연관관계의 주인이 된다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/12a145746b2afb751f6adaabafcb2dcc/bce1e/001-09.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 29.166666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcRAAAXEQHKJvM/AAABSUlEQVQY02WP2WrjMBiF/VTxL1mbZUeSl8TZ2kIZBnoVCoJ53AnkvvQVWhPO/PGUMjAXHwdJ6CzFGAW8JTijUfsGsqoghLgxIKLLfkM/xkSvWoqz1vYspTrz/ZnfWcWi/1K0tUC3JsSgkaJGVRHKktiQlcQ1evEWGg41Jby3sM5AEN1Dv6Gv812L2BKGVCF1I3ztUDcG2qqlYUl0VUpc+kD3sM8Y7dx6mjls5nas/1NEJzB4iXUT0PoAo9Uymcql6VVJ+r3mds6oD+ua2Rk/S/7IYWxKc1mWf1mtFi36jrDfEbbjCnVteDLPVvLGLSGVujon348Hj9OxxTRNeHr4iS6NaLxCCA1cfcejaQOstSi2SeCZDU+HGqfTI6bhCKXlzbK5NuqitX4ZNuOvab/LXTfkTdrn0PY5eZn7FHI/TrkbxrzdHXIIMf8B8iLBW9v3XyIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 09\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/12a145746b2afb751f6adaabafcb2dcc/d9199/001-09.png\"\n        srcset=\"/devHistoryBlog/static/12a145746b2afb751f6adaabafcb2dcc/8ff5a/001-09.png 240w,\n/devHistoryBlog/static/12a145746b2afb751f6adaabafcb2dcc/e85cb/001-09.png 480w,\n/devHistoryBlog/static/12a145746b2afb751f6adaabafcb2dcc/d9199/001-09.png 960w,\n/devHistoryBlog/static/12a145746b2afb751f6adaabafcb2dcc/07a9c/001-09.png 1440w,\n/devHistoryBlog/static/12a145746b2afb751f6adaabafcb2dcc/bce1e/001-09.png 1696w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br/>\n<p><span class=\"title__sub2\"> 2) 양방향 연관관계 주의 </span></p>\n<ul>\n<li>순수 객체 상태를 고려해야 상항 양쪽에 값을 설정\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/devHistoryBlog/static/1b3d68050c0b6dfe020b518f504c9966/2e367/001-10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABcRAAAXEQHKJvM/AAACcklEQVQoz1WPS08TURiGz9K9O+MPMGndwXRmOrfOnDMzvVBacWdivCQs2BjsBSQRjUIIoBIQjVVM3LuodKELEvFGDWXoBXUKLjBpgmkX6ELcMFM+z0yiiYsnz8nJd97zfujg4Fdxb2+vuL//g/p7sd1uFzudTtFxnCIAlCinOp02arVa1e3tJjSbTde2bc8+Ozs7vr273d1dQPn8COTyecjlspDPZWBkdBQymcw/stmsdH38Jkr0JevpgbOQSqfdVDIKqTNpiEZNwBgDIcTHO6OwKDuKih1JVhxBYJ0Qyzing0EnEAgcBoNBoHCSHEERDdeIYQIxoi4mGASBB5ZlgWGY/0CJZArMWBzi1IZOQCcKfWQcyZJ4xPM8CKLI96cHkG5GazoNNMyYH4hVEXTTBEmSgONYCueDVA27GsYuxsSNRBRX1RTqiCNLkhMOh70WXDyRRBom1Vg8AfG+/kMzGusSQ+/SwK6iKF0a2GU5jprrooiqge6vYgINB0wMby3QNA28hnRI7EulEdEN29vGm6WhPrQEiKIIvPfx34ZY017qmlYyCSlFdb0ksEyJZ3pLXG/PMh9iXtGGATWiIllWXhBVbVIqdM4SedZie3ssgQ1ZPMNY4RBjsWyoia7OP7kwOLUwe3lybiK3sDQ59vDZ5NDMg4nRxafTw3OFbMX+euzx82U0mBk5cX7s9r1L41NL567dejQ8c7+QubNYuDg+VbgyPV8YmrhbuDE7F0Tl+uf197Ut+FD7BG8qVVhdt6Dc+AJrG5uwVt36WbO3j5erDbRpfz35eqP+e9Wqw6rVgJWPFVgpV+Btlb7dbMA76ua3FvcHO8h2R477uBsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 10\"\n        title=\"\"\n        src=\"/devHistoryBlog/static/1b3d68050c0b6dfe020b518f504c9966/d9199/001-10.png\"\n        srcset=\"/devHistoryBlog/static/1b3d68050c0b6dfe020b518f504c9966/8ff5a/001-10.png 240w,\n/devHistoryBlog/static/1b3d68050c0b6dfe020b518f504c9966/e85cb/001-10.png 480w,\n/devHistoryBlog/static/1b3d68050c0b6dfe020b518f504c9966/d9199/001-10.png 960w,\n/devHistoryBlog/static/1b3d68050c0b6dfe020b518f504c9966/2e367/001-10.png 1066w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li>연관관계 편의 메소드를 생성하자</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> memberList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addMember</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 양반향 연관관계 매핑</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memberList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">updateTeam</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>양방향 매핑시에 무한 루프를 조심하자<br>\n— ex) toString(), lombok, JSON 생성 라이브러리</li>\n</ul>","fields":{"tagSlugs":["/tags/jpa/"],"slug":"/history/posts/2021-01-28--001"},"frontmatter":{"title":"엔티티 매핑","tags":["jpa"],"date":"2021-01-28","description":"자바 ORM 표준 JPA 프로그래밍 강의 복습"}}},"pageContext":{"slug":"/history/posts/2021-01-28--001"}},"staticQueryHashes":[]}
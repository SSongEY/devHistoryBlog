{"componentChunkName":"component---src-templates-post-template-jsx","path":"/history/posts/2021-03-28--001","result":{"data":{"site":{"siteMetadata":{"title":"Blog by Eunyoung","subtitle":"EY's 개발 히스토리 블로그","copyright":"© All rights reserved.","author":{"name":"EunYoung","twitter":"#"},"disqusShortname":"","url":"https://eunyoung-autocrypt.github.io"}},"markdownRemark":{"id":"6f95b8f8-c567-58a5-acf2-3c5c6dd45665","html":"<p><span class=\"title__sub1\">@Entity</span></p>\n<ul>\n<li>JPA는 내부적으로 replication 등을 쓰기 때문에 동적으로 생성할 수 있어야 한다.</li>\n<li>따라서 기본 생성자가 필요하다. (public 또는 protected)</li>\n</ul>\n<p><span class=\"title__sub1\"> 데이터베이스 스키마 자동 생성</span></p>\n<ul>\n<li>DDL을 애플리케이션 실행 시점에 자동 생성</li>\n<li>데이터베이스 방언을 활용해서 데이터베이스에 맞는 적절한 DDL 생성</li>\n<li>운영 장비에는 절대 create, create-drop, update 사용하면 안됨.</li>\n<li>\n<p>스테이징과 운영 서버는 validate 또는 none 사용</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">hibernate.hbm2ddl.auto=create</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8bafaeaffae4ad205fd8c890ee4ef0e2/f6b72/001-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 615px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeklEQVQoz12SB27DMAxFff8bBki8ZXnEO6POYvmIyi1KgLBEiuTTl6PaeymKUh6Ph2DzPEuRZxInicYLqapKyrKUtm2k6zpbO40dj0fxWrssi8TxSbIsk7quJaLBOI7yfD7l/X7L7XaVy+Vivq6rXK9X823b5H6/Wyw4e0DoMU2TfaNh6KXvexnU27a1RNs0Ng0icv0w2C3Ie19Jo3nnKjuTKxmUwSIKzuezjFpU141NGXQN9TTNO+2ogxalAmBZ1v0Mfrvd7Xav10si0Pt+sCthHEAbKKBGr6apjQY91/WiAJ3tyXP262v7begrJ6li0/jz+RghzaCe50m8Xb21GMXQ0pA98tAYHamlacQBNEB4HoZ1ENjEVmJi4YF6HUQ+PBo55KAWj7jG6XgywTGmV84pQWuxLE2l1L1zpdJ4SX9+p7J0RkeOHtAZIdrRGWTQoWA6X34L9MHI42EdGoT4TpgmsekUbNFrHg4Hneol0VyW53uT/43/xoN9A6Sp+sLsaBrKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 01\"\n        title=\"\"\n        src=\"/static/8bafaeaffae4ad205fd8c890ee4ef0e2/f6b72/001-01.png\"\n        srcset=\"/static/8bafaeaffae4ad205fd8c890ee4ef0e2/8ff5a/001-01.png 240w,\n/static/8bafaeaffae4ad205fd8c890ee4ef0e2/e85cb/001-01.png 480w,\n/static/8bafaeaffae4ad205fd8c890ee4ef0e2/f6b72/001-01.png 615w\"\n        sizes=\"(max-width: 615px) 100vw, 615px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n</ul>\n<p><span class=\"title__sub1\"> 매핑 어노테이션 정리</span></p>\n<ul>\n<li>Date 클래스 사용시 만 @Temporal 사용, </li>\n<li>LocalData, LocalDateTime을 사용할때는 생략</li>\n<li>@Transient 는 주로 메모리상에서만 임시로 보관하고 싶을 때 사용\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/45f929eac456dc1de9fca946ff0503e6/17602/001-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 597px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 52.083333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABKElEQVQoz42SV5KEMAxEuf8BdwdqiCbnHEzQusUOnwyu6pIsJPkhW4ujiIqiYE3TRFiIBUHA+sSeLi3Pc8q5Yc7Fx3FQlmWEeFGUJKXkxG3bHkmrqpLatqWu69iiQVVVTNyofaEap+oAJK/r+lWaEB7/WhiGlCQJ00RRyLE0zZQfKcVM/ojQdV1VmFIcx9fc+r6nfd9pnmcahpH34zhelLcN67qmpmmoLMvzN5Uf+II84fNBnifItm0eAxZIby8FM0NnECEZdhgGWpaFBSLk4MIg+HfSLMsi3/dVsbxO8cVJhTFA8C3Tokxd0Ndnc5JIJoNwCmaG+eEbqGAR/1gplxtC01TzUkT/pFie5zIVLgwWMgyDHMchXdc5T6ia1+8Pvd9vfiEQGv4BLMsDKUaP0CUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 02\"\n        title=\"\"\n        src=\"/static/45f929eac456dc1de9fca946ff0503e6/17602/001-02.png\"\n        srcset=\"/static/45f929eac456dc1de9fca946ff0503e6/8ff5a/001-02.png 240w,\n/static/45f929eac456dc1de9fca946ff0503e6/e85cb/001-02.png 480w,\n/static/45f929eac456dc1de9fca946ff0503e6/17602/001-02.png 597w\"\n        sizes=\"(max-width: 597px) 100vw, 597px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<p><span class=\"title__sub1\"> 기본 키 매핑</span>\n<span class=\"title__sub2\"> 기본 키 매핑 어노테이션 </span></p>\n<ul>\n<li>@Id </li>\n<li>@GeneratedValue (전략은 AUTO가 기본)</li>\n</ul>\n<p><span class=\"title__sub2\"> 전략 종류 </span></p>\n<ul>\n<li>IDENTITY : 데이터베이스에 위임, MYSQL  </li>\n<li>SEQUENCE : 데이터베이스 시퀀스 오브젝트 사용, ORACLE<br>\n— @SequenceGenerator 필요</li>\n<li>TABLE : 키 생성용 테이블 사용, 모든 DB에서 사용, 잘 사용하지 않음<br>\n— @TableGenerator 필요</li>\n<li>AUTO : 방언에 따라 자동 지정, 기본 값</li>\n</ul>\n<p><span class=\"title__sub3\"> IDENTITY 전략 특징 </span></p>\n<ul>\n<li>주로 MySQL, PostgreSQL, SQL Server, DB2에서 사용 (auto_increment)\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c9462d753e49bf719891215f260515da/b04e4/001-04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 888px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 24.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2klEQVQY05WPyU4DMRBE/S8Ixlt7yXidOBPCCIkDEv//NYVtIhSOHJ5cbpW6q9jXZ8LtIlGzhjcS1vR3PcF5BzIEpeW/YO97RLZ8LitOIHpCbVfkUmGsARfLREjeWX7/j3M+5neYP8WeiKP1lEILKFog5ROkeoYm1ZfaydC6pydLM/lgHJweMhMiAgshIUeBj0Ph9Sxxu1q8HQF782jbhlIv2PcDw7eGgFw3pFIm9dwQU0YJG/JaEHo4FmIAKY5oJZIV8M5i7SbvPIxWvdbLrPpTmd/18qD/Vv4GBr2a+EgaBgkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 04\"\n        title=\"\"\n        src=\"/static/c9462d753e49bf719891215f260515da/b04e4/001-04.png\"\n        srcset=\"/static/c9462d753e49bf719891215f260515da/8ff5a/001-04.png 240w,\n/static/c9462d753e49bf719891215f260515da/e85cb/001-04.png 480w,\n/static/c9462d753e49bf719891215f260515da/b04e4/001-04.png 888w\"\n        sizes=\"(max-width: 888px) 100vw, 888px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<p><span class=\"title__sub3\"> SEQUENCE 전략 특징 </span></p>\n<ul>\n<li>주로 Oracle, PostgreSQL, DB2, H2 에서 사용 (auto_increment)</li>\n<li>INSERT SQL 실행 후에 id 값을 알 수 있으므로 <span class=\"text-mark__red\">해당 전략에서는 persist(add) 시점에 즉시 SQL이 수행</span>\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/de9bd811bec00e9fc75ed4ca8edf2692/6acbf/001-05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABR0lEQVQoz3WSSXLDIBBFdZiUJWawJguEJsteuJxUdr7/SX4a7JSzyeJVNxR0/99QXHaOKXJ0XQWlP2BdBWMZGK+esOqdiz/7/1B0nUDTMIxjg9vtAu8tprVHO9RwjcaxN6hPhqKmZgJCcEglMkpLCPnM5SsWjAlUZYW29bjfH7hev/H59UCcNipoEbeI+bxi3maEEIkJgw8koiVqWGvgnKNmFu7oUISao1aEkQiNQYgLwjjTQUdqGHVWOTfG0qUjtNbgpJJxhrI6oGJlJtlNsUgW/EAzbBmULEn2gSjJCidLKltKh9M6FUoke2lfK5Xh1PiXbNkPhOcYBo39fMJKM4zTQnNdsF12dL6Dn0b4GDAuEXF92j41nhioqMxNc8Gk0NEwe8PR1w7jvCP4Gc2xplell7ekxEpITYqNyOsUpabZ87dd/voBP+DV29Go5u98AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 05\"\n        title=\"\"\n        src=\"/static/de9bd811bec00e9fc75ed4ca8edf2692/d9199/001-05.png\"\n        srcset=\"/static/de9bd811bec00e9fc75ed4ca8edf2692/8ff5a/001-05.png 240w,\n/static/de9bd811bec00e9fc75ed4ca8edf2692/e85cb/001-05.png 480w,\n/static/de9bd811bec00e9fc75ed4ca8edf2692/d9199/001-05.png 960w,\n/static/de9bd811bec00e9fc75ed4ca8edf2692/6acbf/001-05.png 1001w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<p><span class=\"title__sub1\"> 연관관계 매핑</span>\n<span class=\"title__sub2\"> 1) 단방향 연관관계 </span>\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/89701b59782fe88fa50841f4d6a9d476/6fcb6/001-06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcRAAAXEQHKJvM/AAAArElEQVQI1zWPuQqFMBBF8/+fJFYBsdImWqlgBFELd9G4ZO7LBN6Uc5c5I+Z5xjiOOI4Dfd+jaRporbEsC4wxxLrT7HVdCXu6rqNt2zBNE9q29Rm3g9P9TlRVhbIswSYued/Xlw/DgKIoiHUXsnmeJ3EcIwgCStPUl1hrcZ4n9n1HlmWQUkJEUeSp/pQ8RIT7vlHXNfGRdV2tUioJw5BDxABMx2XP8+D7Pvb6z37UE92e8XdFHgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 06\"\n        title=\"\"\n        src=\"/static/89701b59782fe88fa50841f4d6a9d476/d9199/001-06.png\"\n        srcset=\"/static/89701b59782fe88fa50841f4d6a9d476/8ff5a/001-06.png 240w,\n/static/89701b59782fe88fa50841f4d6a9d476/e85cb/001-06.png 480w,\n/static/89701b59782fe88fa50841f4d6a9d476/d9199/001-06.png 960w,\n/static/89701b59782fe88fa50841f4d6a9d476/07a9c/001-06.png 1440w,\n/static/89701b59782fe88fa50841f4d6a9d476/6fcb6/001-06.png 1523w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Member 와 Team 의 관계는 n:1</li>\n<li><span class=\"text-mark__red\">Member(n)에 Team(1)에 대한 FK가 들어간다.</span></li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82c81a0e165f16fcc110de4070cea69d/27e9a/001-07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWElEQVQoz5WT6U7DMBCE81C09m7s+MrZNEW0KQgQQkK8/ysMmxAVIUGPH2uvrGj8zY6TVUljHAhNSQhGI3iPVDaw1oGIobWWna6uzDAhOoKXSl4EHaOqPXwwYBbB5cNrhTMijVbo9huNYWPQDwnbzqJKCqQVlNInsWtEs2mJgVBGhZQC6maHPLewzsKXDi4U36S3EG6E8NApbNuAvh/Q1B3auoH3Fmz4F90l4YxlCZbQRYMk84vOoIo1jFAx50Kb30ZYFIU0OWKqJd1a9gohBrFfous6hBBgjJFwFkFNP/3fllmsyQxLFhGpyDPRNIppV0qCWS/hKD2fz6L/EGd3K439g8Lnh8Lri8b720rmmDDsjkKXUHiDUmYbKgcfvQhdIFzLrVsJ5alnjK30Q4vx8YjD/TOGpgexlsQNbGFm6+foTs9metxTODzfLHaXEHj5U/Rid+7pfNpfLmJ27u9UcqcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 07\"\n        title=\"\"\n        src=\"/static/82c81a0e165f16fcc110de4070cea69d/d9199/001-07.png\"\n        srcset=\"/static/82c81a0e165f16fcc110de4070cea69d/8ff5a/001-07.png 240w,\n/static/82c81a0e165f16fcc110de4070cea69d/e85cb/001-07.png 480w,\n/static/82c81a0e165f16fcc110de4070cea69d/d9199/001-07.png 960w,\n/static/82c81a0e165f16fcc110de4070cea69d/27e9a/001-07.png 1253w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br/>\n<p><span class=\"title__sub2\"> 2) 양방향 연관관계와 연관관계의 주인 </span></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82994e919072969ac58ce85f26bb482e/d4b10/001-08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 14.583333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAuUlEQVQI1x2Oy6qFMAxF/f/PuZwzEYcHhyLipGgRFRrxWUV8VbtvaiCEJDsr29v33Wqt3yzL0iqlbNM0tq5rO8/zfRwH1nUVXD/GGBDRvSwL2rYF6950fd/3mKYJXlVVEEK8AwbAAZ7nAT8AQzGOoxPKNE2/YRjC9/1bSolhGMBmcJ4nkiRBEASIogheHMfEA2Ig8SFZawkAXddFvFMM0lmW/dj9X1EUyPPcdF2HbdvAWrhwT51jZ+gfdb/c3m9/6cUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 08\"\n        title=\"\"\n        src=\"/static/82994e919072969ac58ce85f26bb482e/d9199/001-08.png\"\n        srcset=\"/static/82994e919072969ac58ce85f26bb482e/8ff5a/001-08.png 240w,\n/static/82994e919072969ac58ce85f26bb482e/e85cb/001-08.png 480w,\n/static/82994e919072969ac58ce85f26bb482e/d9199/001-08.png 960w,\n/static/82994e919072969ac58ce85f26bb482e/d4b10/001-08.png 1394w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n     </p>\n<ul>\n<li>연관관계의 주인은 외래키의 위치를 기준으로 정해야함</li>\n<li>주인이 아닌쪽은 읽기 전용</li>\n<li>주인이 아니면 mappedBy 속성으로 주인 지정</li>\n<li>여기서는 Member.team 이 연관관계의 주인이 된다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/12a145746b2afb751f6adaabafcb2dcc/bce1e/001-09.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 29.166666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/ElEQVQY03WR626DMAyF+0oTgthJYCUQLl1Joe3Gfky7vv8znDmwTZM2fnyyEznH8fGOiGCYF6wWWM5aw9gcNi8kt7DGQClCrP2GpT7yO4/ssozhPeEUCIeeEEKGrmswzy8YhgnWWhT7HP7OoR1qdCePRvKychuC0rl1jLGNaNz3Cp2vMF5mHMOItj+gLhuMxyu62sEYhjYaWqbYFOz2jFAxJi+CIupvNcZGo3EO5zBLw3IdPYrQ/6P/CC4eineav6AYo6/yQDFyW4iH+s/DLURQFmIIH28Kz08Kjw+E65nw/kq4TCzLUEiSRLhBlqbSRC0/i0vKUrXElfX+EyRYzmvUDhZFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 09\"\n        title=\"\"\n        src=\"/static/12a145746b2afb751f6adaabafcb2dcc/d9199/001-09.png\"\n        srcset=\"/static/12a145746b2afb751f6adaabafcb2dcc/8ff5a/001-09.png 240w,\n/static/12a145746b2afb751f6adaabafcb2dcc/e85cb/001-09.png 480w,\n/static/12a145746b2afb751f6adaabafcb2dcc/d9199/001-09.png 960w,\n/static/12a145746b2afb751f6adaabafcb2dcc/07a9c/001-09.png 1440w,\n/static/12a145746b2afb751f6adaabafcb2dcc/bce1e/001-09.png 1696w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br/>\n<p><span class=\"title__sub2\"> 2) 양방향 연관관계 주의 </span></p>\n<ul>\n<li>순수 객체 상태를 고려해야 상항 양쪽에 값을 설정\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b3d68050c0b6dfe020b518f504c9966/2e367/001-10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABcRAAAXEQHKJvM/AAACe0lEQVQozzWQTUzTYBjHe/Vs4t0TW7yxdW3Xdf1Y23Vf4JRtGULGEhTCARZRjArGIGqUbYkMSORm4tUYY1BMjAYUprJNISF4MhbGbRnZLuJceXxaY5Nf/unbf3/v874EAOTr9Xr+19ER5mG+0Wjkm81mDtdNHiGnCXyajcbm4WEdqtVqW9/bg/39fYuDgwMrdV2HWq0GxOLiIhQKBZifRwpz8P99YWEBlpaWIJfLCaawr7+/NHhpCFKpVDvVl4SBdBp6e5MQj8eQOCQSCYjFYkBQDNvieLHFsp4WwzhbJEW2ztjtrY4O22+bzQZ2u501hV5eLKlaEHyKvy1JArhZBkinEzo7HeBwODA7rSQi3VEIhiMQ7oqCpqmgygIoqv+Y573HHo8HOI7zmEJVC5QCoTCgtK0oCvgkDhS/H3ivF9wMA26324LwyYrhk2VDVlRDFAVD8vGGIIptL+dpsywLDMNYE2JvMxzpglCk+49fC2BfNswUBMFgaNqgGcbArkHIuFsQdw4EQ+ZkoGEGQxGcVgNeEEyh1xTit2/n4wmr13X2HHRHe7ATABSap8ArYP9NKInStixJFVWWvyIVlnZV3JSrQpPOMk2SOzRFOUwhL4jvfZJUlwTxh19RdY5ldOzo2MUkddqFUFSNGJnJ9Qzcun+l/+bdsczDQmY8O59JT90bG30wNz40PXvx8ZOnJ0xhNJHsSIxenblw+UYuPjoxOzw5nR2evJNNZq7NDl6/nR2YmMqmh0dY4tX657XV7e+w8qkMK8USrGx8gbelLfhQ3oLltWKttLN70hRu/6yeevbuY225WIbnq0V4sbph8XJ9E97gf69xfUevuv4CXwhr9p4yVgUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"001 10\"\n        title=\"\"\n        src=\"/static/1b3d68050c0b6dfe020b518f504c9966/d9199/001-10.png\"\n        srcset=\"/static/1b3d68050c0b6dfe020b518f504c9966/8ff5a/001-10.png 240w,\n/static/1b3d68050c0b6dfe020b518f504c9966/e85cb/001-10.png 480w,\n/static/1b3d68050c0b6dfe020b518f504c9966/d9199/001-10.png 960w,\n/static/1b3d68050c0b6dfe020b518f504c9966/2e367/001-10.png 1066w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li>연관관계 편의 메소드를 생성하자</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>mappedBy <span class=\"token operator\">=</span> <span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> memberList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addMember</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 양반향 연관관계 매핑</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>memberList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    member<span class=\"token punctuation\">.</span><span class=\"token function\">updateTeam</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>양방향 매핑시에 무한 루프를 조심하자<br>\n— ex) toString(), lombok, JSON 생성 라이브러리</li>\n</ul>","fields":{"tagSlugs":["/tags/jpa/"],"slug":"/history/posts/2021-03-28--001"},"frontmatter":{"title":"엔티티 매핑","tags":["jpa"],"date":"2021-03-28","description":"자바 ORM 표준 JPA 프로그래밍 강의 복습"}}},"pageContext":{"slug":"/history/posts/2021-03-28--001"}},"staticQueryHashes":[]}